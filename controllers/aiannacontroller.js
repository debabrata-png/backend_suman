const { promisify } = require('util');
const jwt=require('jsonwebtoken');
const User=require('./../Models/user');
const Kpi=require('./../Models/kpi');


const pauidetailsa=require('./../Models/pauidetailsa');
const pauidetailsb=require('./../Models/pauidetailsb');
const pauidetailsc=require('./../Models/pauidetailsc');
const pautrust=require('./../Models/pautrust');
const pauprincipala=require('./../Models/pauprincipala');
const pauprincipalb=require('./../Models/pauprincipalb');
const paugovcouncila=require('./../Models/paugovcouncila');
const paugovcouncilb=require('./../Models/paugovcouncilb');
const pauboarda=require('./../Models/pauboarda');
const pauboardb=require('./../Models/pauboardb');
const pauragcomt=require('./../Models/pauragcomt');
const pauragsquad=require('./../Models/pauragsquad');
const pauwelfarecomt=require('./../Models/pauwelfarecomt');
const pauredressal=require('./../Models/pauredressal');
const paubankacnts=require('./../Models/paubankacnts');
const paudeposit=require('./../Models/paudeposit');
const pauendowment=require('./../Models/pauendowment');
const paulanddetailsa=require('./../Models/paulanddetailsa');
const paulanddetailsb=require('./../Models/paulanddetailsb');
const paucourse=require('./../Models/paucourse');
const paucrsedetails=require('./../Models/paucrsedetails');
const pauaddcrse=require('./../Models/pauaddcrse');
const paustuddetails=require('./../Models/paustuddetails');
const paufaculty=require('./../Models/paufaculty');
const paufdetailsa=require('./../Models/paufdetailsa');
const paufdetailsb=require('./../Models/paufdetailsb');
const paufeduqualif=require('./../Models/paufeduqualif');
const paufaddqualif=require('./../Models/paufaddqualif');
const paufacdexp=require('./../Models/paufacdexp');
const paufindexp=require('./../Models/paufindexp');
const paufcoeexp=require('./../Models/paufcoeexp');
const pauconfacshe=require('./../Models/pauconfacshe');
const pauconfaccourse=require('./../Models/pauconfaccourse');
const pauconfacmemtech=require('./../Models/pauconfacmemtech');
const paunontstaff=require('./../Models/paunontstaff');
const pauspacereq=require('./../Models/pauspacereq');
const pauequip=require('./../Models/pauequip');
const pauequiplist=require('./../Models/pauequiplist');
const pauccomfarea=require('./../Models/pauccomfarea');
const pautermlanwan=require('./../Models/pautermlanwan');
const paunoofterm=require('./../Models/paunoofterm');
const paunooftermlan=require('./../Models/paunooftermlan');
const paunoofprinters=require('./../Models/paunoofprinters');
const pausoftware=require('./../Models/pausoftware');
const paunetwork=require('./../Models/paunetwork');
const paulibarea=require('./../Models/paulibarea');
const paulibbooks=require('./../Models/paulibbooks');
const paulibjournal=require('./../Models/paulibjournal');
const pauavailclroom=require('./../Models/pauavailclroom');
const pausumofclroom=require('./../Models/pausumofclroom');
const paunoofdrawhall=require('./../Models/paunoofdrawhall');
const pauadminarea=require('./../Models/pauadminarea');
const pauamen=require('./../Models/pauamen');
const paubhostel=require('./../Models/paubhostel');
const paughostel=require('./../Models/paughostel');
const pauotherbuildarea=require('./../Models/pauotherbuildarea');
const pauphyedu=require('./../Models/pauphyedu');
const pautpc=require('./../Models/pautpc');
const paufacilityavail=require('./../Models/paufacilityavail');
const paualumni=require('./../Models/paualumni');
//const pautpc=require('./../Models/pautpc');
const pauhealth=require('./../Models/pauhealth');
const pauothamen=require('./../Models/pauothamen');
const pauregrec=require('./../Models/pauregrec');
const paucertificates=require('./../Models/paucertificates');
const pauprocfeea=require('./../Models/pauprocfeea');
const pauprocfeeb=require('./../Models/pauprocfeeb');
const pauprocfeec=require('./../Models/pauprocfeec');
const pauprcplendrsmnt=require('./../Models/pauprcplendrsmnt');
const paumngdeclaration=require('./../Models/paumngdeclaration');

const pnirf=require('./../Models/pnirf');
const padmnew=require('./../Models/padmnew');
const pnbanew=require('./../Models/pnbanew');
const paunfcoeexp=require('./../Models/paunfcoeexp');
const paunprincipala=require('./../Models/paunprincipala');
const paunfeduqualif=require('./../Models/paunfeduqualif');
const paunhealth=require('./../Models/paunhealth');
const paunnoofdrawhall=require('./../Models/paunnoofdrawhall');
const paunstuddetails=require('./../Models/paunstuddetails');


const paunnprincipal=require('./../Models/paunnprincipal');
const paungovcouncil=require('./../Models/paungovcouncil');
const paunboard=require('./../Models/paunboard');
const paunprocfee=require('./../Models/paunprocfee');
const pauntermlanwan=require('./../Models/pauntermlanwan');
const paunidetails=require('./../Models/paunidetails');
const paunfacultydetails=require('./../Models/paunfacultydetails');
const paunfaddqualif=require('./../Models/paunfaddqualif');
const paunfacdexp=require('./../Models/paunfacdexp');
const paunfindexp=require('./../Models/paunfindexp');
const paunnfeduqualif=require('./../Models/paunnfeduqualif');
const paunnfcoeexp=require('./../Models/paunnfcoeexp');
const paunadminarea=require('./../Models/paunadminarea');
const paunamen=require('./../Models/paunamen');
const paunotherbuildarea=require('./../Models/paunotherbuildarea');


const paunlibbooks=require('./../Models/paunlibbooks');
const paunewidetails=require('./../Models/paunewidetails');
const paunewprincipal=require('./../Models/paunewprincipal');
const pauclassblock=require('./../Models/pauclassblock');
const pauclassnew=require('./../Models/pauclassnew');
const paunlibjournal=require('./../Models/paunlibjournal');


const paunewfacultydetails=require('./../Models/paunewfacultydetails');
const paunewfaddqualif=require('./../Models/paunewfaddqualif');
const paunewfacdexp=require('./../Models/paunewfacdexp');
const paunewfindexp=require('./../Models/paunewfindexp');
const paunewfeduqualif=require('./../Models/paunewfeduqualif');
const paunewlanddetails=require('./../Models/paunewlanddetails');


const pauinstdetails=require('./../Models/pauinstdetails');
const pauinstcourse=require('./../Models/pauinstcourse');
const paunequip=require('./../Models/paunequip');
const paunewfcoeexp=require('./../Models/paunewfcoeexp');


const ainsmaster=require('./../Models/ainsmaster');

const paunfacnew=require('./../Models/paunfacnew');
const pauprncplphd=require('./../Models/pauprncplphd');
const pauprncplpub=require('./../Models/pauprncplpub');



exports.getpauidetailsabyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauidetailsa
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauidetailsabydep= async (req,res) => {
    try{
        
        const lcat1233= await pauidetailsa
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauidetailsabyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauidetailsa
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauidetailsadocs= async (req,res) => {
    try{
        
        const lcat1233= await pauidetailsa
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauidetailsalinks= async (req,res) => {
    try{
        
        const lcat1233= await pauidetailsa
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauidetailsabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauidetailsa.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              name:req.query.name,
  address:req.query.address,
  pincode:req.query.pincode,
  year:req.query.year,
  insttype:req.query.insttype,
  category:req.query.category,
  clgtype:req.query.clgtype,
  ifauto:req.query.ifauto,
  isfunct:req.query.isfunct,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauidetailsabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauidetailsa.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              name:req.query.name,
  address:req.query.address,
  pincode:req.query.pincode,
  year:req.query.year,
  insttype:req.query.insttype,
  category:req.query.category,
  clgtype:req.query.clgtype,
  ifauto:req.query.ifauto,
  isfunct:req.query.isfunct,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauidetailsacomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauidetailsa.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauidetailsabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauidetailsa.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauidetailsbbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauidetailsb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauidetailsbbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauidetailsb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauidetailsbbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauidetailsb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauidetailsbdocs= async (req,res) => {
    try{
        
        const lcat1233= await pauidetailsb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauidetailsblinks= async (req,res) => {
    try{
        
        const lcat1233= await pauidetailsb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauidetailsbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauidetailsb.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              mobile:req.query.mobile,
  landline:req.query.landline,
  other:req.query.other,
  fax:req.query.fax,
  email:req.query.email,
  website:req.query.website,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauidetailsbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauidetailsb.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              mobile:req.query.mobile,
  landline:req.query.landline,
  other:req.query.other,
  fax:req.query.fax,
  email:req.query.email,
  website:req.query.website,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauidetailsbcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauidetailsb.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauidetailsbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauidetailsb.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauidetailscbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauidetailsc
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauidetailscbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauidetailsc
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauidetailscbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauidetailsc
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauidetailscdocs= async (req,res) => {
    try{
        
        const lcat1233= await pauidetailsc
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauidetailsclinks= async (req,res) => {
    try{
        
        const lcat1233= await pauidetailsc
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauidetailscbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauidetailsc.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              ifsectwof:req.query.ifsectwof,
  letternotwof:req.query.letternotwof,
  dtwof:req.query.dtwof,
  ifsectwlfb:req.query.ifsectwlfb,
  letternotwlfb:req.query.letternotwlfb,
  dtwlfb:req.query.dtwlfb,
  otheraccrd:req.query.otheraccrd,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauidetailscbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauidetailsc.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              ifsectwof:req.query.ifsectwof,
  letternotwof:req.query.letternotwof,
  dtwof:req.query.dtwof,
  ifsectwlfb:req.query.ifsectwlfb,
  letternotwlfb:req.query.letternotwlfb,
  dtwlfb:req.query.dtwlfb,
  otheraccrd:req.query.otheraccrd,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauidetailsccomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauidetailsc.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauidetailscbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauidetailsc.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpautrustbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pautrust
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pautrustbydep= async (req,res) => {
    try{
        
        const lcat1233= await pautrust
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pautrustbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pautrust
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pautrustdocs= async (req,res) => {
    try{
        
        const lcat1233= await pautrust
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pautrustlinks= async (req,res) => {
    try{
        
        const lcat1233= await pautrust
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpautrustbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pautrust.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              hod:req.query.hod,
  trustname:req.query.trustname,
  address:req.query.address,
  city:req.query.city,
  district:req.query.district,
  regno:req.query.regno,
  dor:req.query.dor,
  chairman:req.query.chairman,
  father:req.query.father,
  email:req.query.email,
  mobprsnl:req.query.mobprsnl,
  officephn:req.query.officephn,
  resphn:req.query.resphn,
  fax:req.query.fax,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepautrustbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pautrust.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              hod:req.query.hod,
  trustname:req.query.trustname,
  address:req.query.address,
  city:req.query.city,
  district:req.query.district,
  regno:req.query.regno,
  dor:req.query.dor,
  chairman:req.query.chairman,
  father:req.query.father,
  email:req.query.email,
  mobprsnl:req.query.mobprsnl,
  officephn:req.query.officephn,
  resphn:req.query.resphn,
  fax:req.query.fax,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepautrustcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pautrust.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepautrustbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pautrust.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauprincipalabyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauprincipala
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprincipalabydep= async (req,res) => {
    try{
        
        const lcat1233= await pauprincipala
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprincipalabyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauprincipala
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprincipaladocs= async (req,res) => {
    try{
        
        const lcat1233= await pauprincipala
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauprincipalalinks= async (req,res) => {
    try{
        
        const lcat1233= await pauprincipala
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauprincipalabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauprincipala.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              name:req.query.name,
  dob:req.query.dob,
  age:req.query.age,
  fathername:req.query.fathername,
  degree:req.query.degree,
  course:req.query.course,
  class:req.query.class,
  phdtitle:req.query.phdtitle,
  address:req.query.address,
  city:req.query.city,
  district:req.query.district,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauprincipalabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauprincipala.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              name:req.query.name,
  dob:req.query.dob,
  age:req.query.age,
  fathername:req.query.fathername,
  degree:req.query.degree,
  course:req.query.course,
  class:req.query.class,
  phdtitle:req.query.phdtitle,
  address:req.query.address,
  city:req.query.city,
  district:req.query.district,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauprincipalacomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauprincipala.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauprincipalabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauprincipala.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauprincipalbbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauprincipalb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprincipalbbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauprincipalb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprincipalbbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauprincipalb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprincipalbdocs= async (req,res) => {
    try{
        
        const lcat1233= await pauprincipalb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauprincipalblinks= async (req,res) => {
    try{
        
        const lcat1233= await pauprincipalb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauprincipalbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauprincipalb.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              doj:req.query.doj,
  experience:req.query.experience,
  officephn:req.query.officephn,
  resphn:req.query.resphn,
  fax:req.query.fax,
  mobprsnl:req.query.mobprsnl,
  email:req.query.email,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauprincipalbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauprincipalb.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              doj:req.query.doj,
  experience:req.query.experience,
  officephn:req.query.officephn,
  resphn:req.query.resphn,
  fax:req.query.fax,
  mobprsnl:req.query.mobprsnl,
  email:req.query.email,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauprincipalbcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauprincipalb.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauprincipalbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauprincipalb.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaugovcouncilabyfac= async (req,res) => {
    try{
        
        const lcat1233= await paugovcouncila
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paugovcouncilabydep= async (req,res) => {
    try{
        
        const lcat1233= await paugovcouncila
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paugovcouncilabyprog= async (req,res) => {
    try{
        
        const lcat1233= await paugovcouncila
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paugovcounciladocs= async (req,res) => {
    try{
        
        const lcat1233= await paugovcouncila
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paugovcouncilalinks= async (req,res) => {
    try{
        
        const lcat1233= await paugovcouncila
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaugovcouncilabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paugovcouncila.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  position:req.query.position,
  examqualf:req.query.examqualf,
  course:req.query.course,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaugovcouncilabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paugovcouncila.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  position:req.query.position,
  examqualf:req.query.examqualf,
  course:req.query.course,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaugovcouncilacomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paugovcouncila.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaugovcouncilabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paugovcouncila.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaugovcouncilbbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paugovcouncilb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paugovcouncilbbydep= async (req,res) => {
    try{
        
        const lcat1233= await paugovcouncilb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paugovcouncilbbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paugovcouncilb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paugovcouncilbdocs= async (req,res) => {
    try{
        
        const lcat1233= await paugovcouncilb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paugovcouncilblinks= async (req,res) => {
    try{
        
        const lcat1233= await paugovcouncilb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaugovcouncilbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paugovcouncilb.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              designation:req.query.designation,
  email:req.query.email,
  mobprsnl:req.query.mobprsnl,
  officephn:req.query.officephn,
  address:req.query.address,
  city:req.query.city,
  district:req.query.district,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaugovcouncilbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paugovcouncilb.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              designation:req.query.designation,
  email:req.query.email,
  mobprsnl:req.query.mobprsnl,
  officephn:req.query.officephn,
  address:req.query.address,
  city:req.query.city,
  district:req.query.district,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaugovcouncilbcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paugovcouncilb.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaugovcouncilbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paugovcouncilb.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauboardabyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauboarda
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauboardabydep= async (req,res) => {
    try{
        
        const lcat1233= await pauboarda
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauboardabyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauboarda
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauboardadocs= async (req,res) => {
    try{
        
        const lcat1233= await pauboarda
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauboardalinks= async (req,res) => {
    try{
        
        const lcat1233= await pauboarda
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauboardabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauboarda.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  position:req.query.position,
  examqualf:req.query.examqualf,
  course:req.query.course,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauboardabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauboarda.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  position:req.query.position,
  examqualf:req.query.examqualf,
  course:req.query.course,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauboardacomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauboarda.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauboardabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauboarda.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauboardbbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauboardb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauboardbbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauboardb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauboardbbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauboardb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauboardbdocs= async (req,res) => {
    try{
        
        const lcat1233= await pauboardb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauboardblinks= async (req,res) => {
    try{
        
        const lcat1233= await pauboardb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauboardbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauboardb.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              designation:req.query.designation,
  email:req.query.email,
  mobprsnl:req.query.mobprsnl,
  officephn:req.query.officephn,
  address:req.query.address,
  city:req.query.city,
  district:req.query.district,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauboardbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauboardb.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              designation:req.query.designation,
  email:req.query.email,
  mobprsnl:req.query.mobprsnl,
  officephn:req.query.officephn,
  address:req.query.address,
  city:req.query.city,
  district:req.query.district,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauboardbcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauboardb.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauboardbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauboardb.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauragcomtbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauragcomt
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauragcomtbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauragcomt
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauragcomtbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauragcomt
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauragcomtdocs= async (req,res) => {
    try{
        
        const lcat1233= await pauragcomt
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauragcomtlinks= async (req,res) => {
    try{
        
        const lcat1233= await pauragcomt
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauragcomtbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauragcomt.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              position:req.query.position,
  title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  designation:req.query.designation,
  email:req.query.email,
  mobprsnl:req.query.mobprsnl,
  officephn:req.query.officephn,
  address:req.query.address,
  city:req.query.city,
  district:req.query.district,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauragcomtbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauragcomt.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              position:req.query.position,
  title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  designation:req.query.designation,
  email:req.query.email,
  mobprsnl:req.query.mobprsnl,
  officephn:req.query.officephn,
  address:req.query.address,
  city:req.query.city,
  district:req.query.district,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauragcomtcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauragcomt.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauragcomtbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauragcomt.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauragsquadbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauragsquad
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauragsquadbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauragsquad
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauragsquadbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauragsquad
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauragsquaddocs= async (req,res) => {
    try{
        
        const lcat1233= await pauragsquad
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauragsquadlinks= async (req,res) => {
    try{
        
        const lcat1233= await pauragsquad
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauragsquadbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauragsquad.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              position:req.query.position,
  title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  designation:req.query.designation,
  email:req.query.email,
  mobprsnl:req.query.mobprsnl,
  officephn:req.query.officephn,
  address:req.query.address,
  city:req.query.city,
  district:req.query.district,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauragsquadbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauragsquad.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              position:req.query.position,
  title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  designation:req.query.designation,
  email:req.query.email,
  mobprsnl:req.query.mobprsnl,
  officephn:req.query.officephn,
  address:req.query.address,
  city:req.query.city,
  district:req.query.district,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauragsquadcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauragsquad.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauragsquadbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauragsquad.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauwelfarecomtbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauwelfarecomt
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauwelfarecomtbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauwelfarecomt
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauwelfarecomtbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauwelfarecomt
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauwelfarecomtdocs= async (req,res) => {
    try{
        
        const lcat1233= await pauwelfarecomt
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauwelfarecomtlinks= async (req,res) => {
    try{
        
        const lcat1233= await pauwelfarecomt
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauwelfarecomtbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauwelfarecomt.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              position:req.query.position,
  title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  designation:req.query.designation,
  email:req.query.email,
  mobprsnl:req.query.mobprsnl,
  officephn:req.query.officephn,
  address:req.query.address,
  city:req.query.city,
  district:req.query.district,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauwelfarecomtbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauwelfarecomt.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              position:req.query.position,
  title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  designation:req.query.designation,
  email:req.query.email,
  mobprsnl:req.query.mobprsnl,
  officephn:req.query.officephn,
  address:req.query.address,
  city:req.query.city,
  district:req.query.district,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauwelfarecomtcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauwelfarecomt.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauwelfarecomtbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauwelfarecomt.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauredressalbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauredressal
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauredressalbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauredressal
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauredressalbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauredressal
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauredressaldocs= async (req,res) => {
    try{
        
        const lcat1233= await pauredressal
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauredressallinks= async (req,res) => {
    try{
        
        const lcat1233= await pauredressal
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauredressalbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauredressal.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              position:req.query.position,
  title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  designation:req.query.designation,
  email:req.query.email,
  mobprsnl:req.query.mobprsnl,
  officephn:req.query.officephn,
  address:req.query.address,
  city:req.query.city,
  district:req.query.district,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauredressalbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauredressal.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              position:req.query.position,
  title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  designation:req.query.designation,
  email:req.query.email,
  mobprsnl:req.query.mobprsnl,
  officephn:req.query.officephn,
  address:req.query.address,
  city:req.query.city,
  district:req.query.district,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauredressalcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauredressal.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauredressalbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauredressal.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaubankacntsbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paubankacnts
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paubankacntsbydep= async (req,res) => {
    try{
        
        const lcat1233= await paubankacnts
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paubankacntsbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paubankacnts
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paubankacntsdocs= async (req,res) => {
    try{
        
        const lcat1233= await paubankacnts
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paubankacntslinks= async (req,res) => {
    try{
        
        const lcat1233= await paubankacnts
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaubankacntsbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paubankacnts.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              acctype:req.query.acctype,
  bank:req.query.bank,
  branch:req.query.branch,
  accno:req.query.accno,
  ifsccode:req.query.ifsccode,
  baleol:req.query.baleol,
  bal:req.query.bal,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaubankacntsbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paubankacnts.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              acctype:req.query.acctype,
  bank:req.query.bank,
  branch:req.query.branch,
  accno:req.query.accno,
  ifsccode:req.query.ifsccode,
  baleol:req.query.baleol,
  bal:req.query.bal,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaubankacntscomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paubankacnts.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaubankacntsbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paubankacnts.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaudepositbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paudeposit
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paudepositbydep= async (req,res) => {
    try{
        
        const lcat1233= await paudeposit
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paudepositbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paudeposit
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paudepositdocs= async (req,res) => {
    try{
        
        const lcat1233= await paudeposit
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paudepositlinks= async (req,res) => {
    try{
        
        const lcat1233= await paudeposit
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaudepositbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paudeposit.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              deptype:req.query.deptype,
  instname:req.query.instname,
  branch:req.query.branch,
  refno:req.query.refno,
  amount:req.query.amount,
  dom:req.query.dom,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaudepositbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paudeposit.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              deptype:req.query.deptype,
  instname:req.query.instname,
  branch:req.query.branch,
  refno:req.query.refno,
  amount:req.query.amount,
  dom:req.query.dom,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaudepositcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paudeposit.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaudepositbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paudeposit.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauendowmentbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauendowment
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauendowmentbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauendowment
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauendowmentbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauendowment
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauendowmentdocs= async (req,res) => {
    try{
        
        const lcat1233= await pauendowment
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauendowmentlinks= async (req,res) => {
    try{
        
        const lcat1233= await pauendowment
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauendowmentbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauendowment.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              created:req.query.created,
  bank:req.query.bank,
  branch:req.query.branch,
  amount:req.query.amount,
  instrumentno:req.query.instrumentno,
  instrumentdate:req.query.instrumentdate,
  expdate:req.query.expdate,
  finreserve:req.query.finreserve,
  expenditure:req.query.expenditure,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauendowmentbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauendowment.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              created:req.query.created,
  bank:req.query.bank,
  branch:req.query.branch,
  amount:req.query.amount,
  instrumentno:req.query.instrumentno,
  instrumentdate:req.query.instrumentdate,
  expdate:req.query.expdate,
  finreserve:req.query.finreserve,
  expenditure:req.query.expenditure,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauendowmentcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauendowment.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauendowmentbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauendowment.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaulanddetailsabyfac= async (req,res) => {
    try{
        
        const lcat1233= await paulanddetailsa
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paulanddetailsabydep= async (req,res) => {
    try{
        
        const lcat1233= await paulanddetailsa
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paulanddetailsabyprog= async (req,res) => {
    try{
        
        const lcat1233= await paulanddetailsa
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paulanddetailsadocs= async (req,res) => {
    try{
        
        const lcat1233= await paulanddetailsa
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paulanddetailsalinks= async (req,res) => {
    try{
        
        const lcat1233= await paulanddetailsa
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaulanddetailsabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paulanddetailsa.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              type:req.query.type,
  location:req.query.location,
  district:req.query.district,
  taluk:req.query.taluk,
  village:req.query.village,
  place:req.query.place,
  pincode:req.query.pincode,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaulanddetailsabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paulanddetailsa.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              type:req.query.type,
  location:req.query.location,
  district:req.query.district,
  taluk:req.query.taluk,
  village:req.query.village,
  place:req.query.place,
  pincode:req.query.pincode,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaulanddetailsacomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paulanddetailsa.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaulanddetailsabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paulanddetailsa.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaulanddetailsbbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paulanddetailsb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paulanddetailsbbydep= async (req,res) => {
    try{
        
        const lcat1233= await paulanddetailsb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paulanddetailsbbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paulanddetailsb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paulanddetailsbdocs= async (req,res) => {
    try{
        
        const lcat1233= await paulanddetailsb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paulanddetailsblinks= async (req,res) => {
    try{
        
        const lcat1233= await paulanddetailsb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaulanddetailsbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paulanddetailsb.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              landext:req.query.landext,
  docno:req.query.docno,
  dol:req.query.dol,
  surveyno:req.query.surveyno,
  extent:req.query.extent,
  totalextland:req.query.totalextland,
  totalextbuilt:req.query.totalextbuilt,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaulanddetailsbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paulanddetailsb.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              landext:req.query.landext,
  docno:req.query.docno,
  dol:req.query.dol,
  surveyno:req.query.surveyno,
  extent:req.query.extent,
  totalextland:req.query.totalextland,
  totalextbuilt:req.query.totalextbuilt,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaulanddetailsbcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paulanddetailsb.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaulanddetailsbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paulanddetailsb.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaucoursebyfac= async (req,res) => {
    try{
        
        const lcat1233= await paucourse
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paucoursebydep= async (req,res) => {
    try{
        
        const lcat1233= await paucourse
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paucoursebyprog= async (req,res) => {
    try{
        
        const lcat1233= await paucourse
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paucoursedocs= async (req,res) => {
    try{
        
        const lcat1233= await paucourse
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paucourselinks= async (req,res) => {
    try{
        
        const lcat1233= await paucourse
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaucoursebyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paucourse.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              department:req.query.department,
  degree:req.query.degree,
  course:req.query.course,
  yoi:req.query.yoi,
  afflnature:req.query.afflnature,
  fromdate:req.query.fromdate,
  todate:req.query.todate,
  letterno:req.query.letterno,
  letterdt:req.query.letterdt,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaucoursebyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paucourse.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              department:req.query.department,
  degree:req.query.degree,
  course:req.query.course,
  yoi:req.query.yoi,
  afflnature:req.query.afflnature,
  fromdate:req.query.fromdate,
  todate:req.query.todate,
  letterno:req.query.letterno,
  letterdt:req.query.letterdt,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaucoursecomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paucourse.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaucoursebyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paucourse.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaucrsedetailsbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paucrsedetails
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paucrsedetailsbydep= async (req,res) => {
    try{
        
        const lcat1233= await paucrsedetails
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paucrsedetailsbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paucrsedetails
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paucrsedetailsdocs= async (req,res) => {
    try{
        
        const lcat1233= await paucrsedetails
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paucrsedetailslinks= async (req,res) => {
    try{
        
        const lcat1233= await paucrsedetails
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaucrsedetailsbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paucrsedetails.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  course:req.query.course,
  sancintake:req.query.sancintake,
  admtintake:req.query.admtintake,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaucrsedetailsbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paucrsedetails.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  course:req.query.course,
  sancintake:req.query.sancintake,
  admtintake:req.query.admtintake,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaucrsedetailscomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paucrsedetails.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaucrsedetailsbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paucrsedetails.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauaddcrsebyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauaddcrse
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauaddcrsebydep= async (req,res) => {
    try{
        
        const lcat1233= await pauaddcrse
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauaddcrsebyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauaddcrse
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauaddcrsedocs= async (req,res) => {
    try{
        
        const lcat1233= await pauaddcrse
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauaddcrselinks= async (req,res) => {
    try{
        
        const lcat1233= await pauaddcrse
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauaddcrsebyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauaddcrse.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  course:req.query.course,
  admtintake:req.query.admtintake,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauaddcrsebyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauaddcrse.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  course:req.query.course,
  admtintake:req.query.admtintake,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauaddcrsecomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauaddcrse.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauaddcrsebyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauaddcrse.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaustuddetailsbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paustuddetails
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paustuddetailsbydep= async (req,res) => {
    try{
        
        const lcat1233= await paustuddetails
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paustuddetailsbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paustuddetails
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paustuddetailsdocs= async (req,res) => {
    try{
        
        const lcat1233= await paustuddetails
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paustuddetailslinks= async (req,res) => {
    try{
        
        const lcat1233= await paustuddetails
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaustuddetailsbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paustuddetails.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  course:req.query.course,
  sancintake:req.query.sancintake,
  boys:req.query.boys,
  girls:req.query.girls,
  totalstud:req.query.totalstud,
  religion:req.query.religion,
  relgboys:req.query.relgboys,
  relggirls:req.query.relggirls,
  community:req.query.community,
  comboys:req.query.comboys,
  comgirls:req.query.comgirls,
  nationality:req.query.nationality,
  boys:req.query.boys,
  girls:req.query.girls,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaustuddetailsbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paustuddetails.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  course:req.query.course,
  sancintake:req.query.sancintake,
  boys:req.query.boys,
  girls:req.query.girls,
  totalstud:req.query.totalstud,
  religion:req.query.religion,
  relgboys:req.query.relgboys,
  relggirls:req.query.relggirls,
  community:req.query.community,
  comboys:req.query.comboys,
  comgirls:req.query.comgirls,
  nationality:req.query.nationality,
  boys:req.query.boys,
  girls:req.query.girls,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaustuddetailscomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paustuddetails.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaustuddetailsbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paustuddetails.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaufacultybyfac= async (req,res) => {
    try{
        
        const lcat1233= await paufaculty
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufacultybydep= async (req,res) => {
    try{
        
        const lcat1233= await paufaculty
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufacultybyprog= async (req,res) => {
    try{
        
        const lcat1233= await paufaculty
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufacultydocs= async (req,res) => {
    try{
        
        const lcat1233= await paufaculty
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paufacultylinks= async (req,res) => {
    try{
        
        const lcat1233= await paufaculty
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaufacultybyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paufaculty.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              college:req.query.college,
  department:req.query.department,
  course:req.query.course,
  afcode:req.query.afcode,
  fname:req.query.fname,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaufacultybyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paufaculty.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              college:req.query.college,
  department:req.query.department,
  course:req.query.course,
  afcode:req.query.afcode,
  fname:req.query.fname,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaufacultycomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paufaculty.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaufacultybyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paufaculty.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaufdetailsabyfac= async (req,res) => {
    try{
        
        const lcat1233= await paufdetailsa
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufdetailsabydep= async (req,res) => {
    try{
        
        const lcat1233= await paufdetailsa
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufdetailsabyprog= async (req,res) => {
    try{
        
        const lcat1233= await paufdetailsa
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufdetailsadocs= async (req,res) => {
    try{
        
        const lcat1233= await paufdetailsa
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paufdetailsalinks= async (req,res) => {
    try{
        
        const lcat1233= await paufdetailsa
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaufdetailsabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paufdetailsa.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              name:req.query.name,
  department:req.query.department,
  degrencrse:req.query.degrencrse,
  faculty:req.query.faculty,
  ifregular:req.query.ifregular,
  image:req.query.image,
  designation:req.query.designation,
  resadrs1:req.query.resadrs1,
  resadrs2:req.query.resadrs2,
  district:req.query.district,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaufdetailsabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paufdetailsa.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              name:req.query.name,
  department:req.query.department,
  degrencrse:req.query.degrencrse,
  faculty:req.query.faculty,
  ifregular:req.query.ifregular,
  image:req.query.image,
  designation:req.query.designation,
  resadrs1:req.query.resadrs1,
  resadrs2:req.query.resadrs2,
  district:req.query.district,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaufdetailsacomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paufdetailsa.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaufdetailsabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paufdetailsa.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaufdetailsbbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paufdetailsb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufdetailsbbydep= async (req,res) => {
    try{
        
        const lcat1233= await paufdetailsb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufdetailsbbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paufdetailsb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufdetailsbdocs= async (req,res) => {
    try{
        
        const lcat1233= await paufdetailsb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paufdetailsblinks= async (req,res) => {
    try{
        
        const lcat1233= await paufdetailsb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaufdetailsbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paufdetailsb.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              phone:req.query.phone,
  mobile:req.query.mobile,
  email:req.query.email,
  gender:req.query.gender,
  community:req.query.community,
  pan:req.query.pan,
  passport:req.query.passport,
  adhar:req.query.adhar,
  fcodecoe:req.query.fcodecoe,
  fcodeaicte:req.query.fcodeaicte,
  dob:req.query.dob,
  age:req.query.age,
  payscale:req.query.payscale,
  basicpay:req.query.basicpay,
  emoluments:req.query.emoluments,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaufdetailsbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paufdetailsb.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              phone:req.query.phone,
  mobile:req.query.mobile,
  email:req.query.email,
  gender:req.query.gender,
  community:req.query.community,
  pan:req.query.pan,
  passport:req.query.passport,
  adhar:req.query.adhar,
  fcodecoe:req.query.fcodecoe,
  fcodeaicte:req.query.fcodeaicte,
  dob:req.query.dob,
  age:req.query.age,
  payscale:req.query.payscale,
  basicpay:req.query.basicpay,
  emoluments:req.query.emoluments,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaufdetailsbcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paufdetailsb.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaufdetailsbbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paufdetailsb.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaufeduqualifbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paufeduqualif
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufeduqualifbydep= async (req,res) => {
    try{
        
        const lcat1233= await paufeduqualif
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufeduqualifbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paufeduqualif
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufeduqualifdocs= async (req,res) => {
    try{
        
        const lcat1233= await paufeduqualif
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paufeduqualiflinks= async (req,res) => {
    try{
        
        const lcat1233= await paufeduqualif
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaufeduqualifbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paufeduqualif.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              category:req.query.category,
  degree:req.query.degree,
  spclztn:req.query.spclztn,
  yop:req.query.yop,
  colgname:req.query.colgname,
  univname:req.query.univname,
  marks:req.query.marks,
  class:req.query.class,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaufeduqualifbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paufeduqualif.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              category:req.query.category,
  degree:req.query.degree,
  spclztn:req.query.spclztn,
  yop:req.query.yop,
  colgname:req.query.colgname,
  univname:req.query.univname,
  marks:req.query.marks,
  class:req.query.class,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaufeduqualifcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paufeduqualif.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaufeduqualifbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paufeduqualif.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaufaddqualifbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paufaddqualif
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufaddqualifbydep= async (req,res) => {
    try{
        
        const lcat1233= await paufaddqualif
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufaddqualifbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paufaddqualif
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufaddqualifdocs= async (req,res) => {
    try{
        
        const lcat1233= await paufaddqualif
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paufaddqualiflinks= async (req,res) => {
    try{
        
        const lcat1233= await paufaddqualif
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaufaddqualifbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paufaddqualif.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              score:req.query.score,
  file:req.query.file,
  title:req.query.title,
  fphdaward:req.query.fphdaward,
  yoe:req.query.yoe,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaufaddqualifbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paufaddqualif.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              score:req.query.score,
  file:req.query.file,
  title:req.query.title,
  fphdaward:req.query.fphdaward,
  yoe:req.query.yoe,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaufaddqualifcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paufaddqualif.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaufaddqualifbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paufaddqualif.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaufacdexpbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paufacdexp
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufacdexpbydep= async (req,res) => {
    try{
        
        const lcat1233= await paufacdexp
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufacdexpbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paufacdexp
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufacdexpdocs= async (req,res) => {
    try{
        
        const lcat1233= await paufacdexp
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paufacdexplinks= async (req,res) => {
    try{
        
        const lcat1233= await paufacdexp
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaufacdexpbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paufacdexp.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              college:req.query.college,
  designation:req.query.designation,
  doj:req.query.doj,
  dol:req.query.dol,
  expinyears:req.query.expinyears,
  expinmonths:req.query.expinmonths,
  expindays:req.query.expindays,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaufacdexpbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paufacdexp.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              college:req.query.college,
  designation:req.query.designation,
  doj:req.query.doj,
  dol:req.query.dol,
  expinyears:req.query.expinyears,
  expinmonths:req.query.expinmonths,
  expindays:req.query.expindays,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaufacdexpcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paufacdexp.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaufacdexpbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paufacdexp.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaufindexpbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paufindexp
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufindexpbydep= async (req,res) => {
    try{
        
        const lcat1233= await paufindexp
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufindexpbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paufindexp
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufindexpdocs= async (req,res) => {
    try{
        
        const lcat1233= await paufindexp
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paufindexplinks= async (req,res) => {
    try{
        
        const lcat1233= await paufindexp
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaufindexpbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paufindexp.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              orgname:req.query.orgname,
  designation:req.query.designation,
  worknature:req.query.worknature,
  doj:req.query.doj,
  dol:req.query.dol,
  expinyears:req.query.expinyears,
  expinmonths:req.query.expinmonths,
  expindays:req.query.expindays,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaufindexpbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paufindexp.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              orgname:req.query.orgname,
  designation:req.query.designation,
  worknature:req.query.worknature,
  doj:req.query.doj,
  dol:req.query.dol,
  expinyears:req.query.expinyears,
  expinmonths:req.query.expinmonths,
  expindays:req.query.expindays,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaufindexpcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paufindexp.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaufindexpbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paufindexp.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaufcoeexpbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paufcoeexp
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufcoeexpbydep= async (req,res) => {
    try{
        
        const lcat1233= await paufcoeexp
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufcoeexpbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paufcoeexp
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufcoeexpdocs= async (req,res) => {
    try{
        
        const lcat1233= await paufcoeexp
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paufcoeexplinks= async (req,res) => {
    try{
        
        const lcat1233= await paufcoeexp
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaufcoeexpbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paufcoeexp.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              aur:req.query.aur,
  squadmember:req.query.squadmember,
  extexaminer:req.query.extexaminer,
  eval:req.query.eval,
  reeval:req.query.reeval,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaufcoeexpbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paufcoeexp.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              aur:req.query.aur,
  squadmember:req.query.squadmember,
  extexaminer:req.query.extexaminer,
  eval:req.query.eval,
  reeval:req.query.reeval,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaufcoeexpcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paufcoeexp.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaufcoeexpbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paufcoeexp.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauconfacshebyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauconfacshe
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauconfacshebydep= async (req,res) => {
    try{
        
        const lcat1233= await pauconfacshe
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauconfacshebyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauconfacshe
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauconfacshedocs= async (req,res) => {
    try{
        
        const lcat1233= await pauconfacshe
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauconfacshelinks= async (req,res) => {
    try{
        
        const lcat1233= await pauconfacshe
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauconfacshebyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauconfacshe.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              designation:req.query.designation,
  course:req.query.course,
  nooffac:req.query.nooffac,
  intake:req.query.intake,
  reqfac:req.query.reqfac,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauconfacshebyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauconfacshe.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              designation:req.query.designation,
  course:req.query.course,
  nooffac:req.query.nooffac,
  intake:req.query.intake,
  reqfac:req.query.reqfac,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauconfacshecomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauconfacshe.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauconfacshebyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauconfacshe.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauconfaccoursebyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauconfaccourse
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauconfaccoursebydep= async (req,res) => {
    try{
        
        const lcat1233= await pauconfaccourse
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauconfaccoursebyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauconfaccourse
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauconfaccoursedocs= async (req,res) => {
    try{
        
        const lcat1233= await pauconfaccourse
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauconfaccourselinks= async (req,res) => {
    try{
        
        const lcat1233= await pauconfaccourse
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauconfaccoursebyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauconfaccourse.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  course:req.query.course,
  totsanc:req.query.totsanc,
  itype:req.query.itype,
  req:req.query.req,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  cdeficient:req.query.cdeficient,
  ssr:req.query.ssr,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauconfaccoursebyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauconfaccourse.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  course:req.query.course,
  totsanc:req.query.totsanc,
  itype:req.query.itype,
  req:req.query.req,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  cdeficient:req.query.cdeficient,
  ssr:req.query.ssr,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauconfaccoursecomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauconfaccourse.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauconfaccoursebyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauconfaccourse.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauconfacmemtechbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauconfacmemtech
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauconfacmemtechbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauconfacmemtech
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauconfacmemtechbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauconfacmemtech
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauconfacmemtechdocs= async (req,res) => {
    try{
        
        const lcat1233= await pauconfacmemtech
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauconfacmemtechlinks= async (req,res) => {
    try{
        
        const lcat1233= await pauconfacmemtech
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauconfacmemtechbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauconfacmemtech.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  course:req.query.course,
  totsanc:req.query.totsanc,
  type:req.query.type,
  req:req.query.req,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  cdeficient:req.query.cdeficient,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauconfacmemtechbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauconfacmemtech.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  course:req.query.course,
  totsanc:req.query.totsanc,
  type:req.query.type,
  req:req.query.req,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  cdeficient:req.query.cdeficient,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauconfacmemtechcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauconfacmemtech.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauconfacmemtechbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauconfacmemtech.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaunontstaffbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paunontstaff
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunontstaffbydep= async (req,res) => {
    try{
        
        const lcat1233= await paunontstaff
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunontstaffbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paunontstaff
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunontstaffdocs= async (req,res) => {
    try{
        
        const lcat1233= await paunontstaff
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paunontstafflinks= async (req,res) => {
    try{
        
        const lcat1233= await paunontstaff
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaunontstaffbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paunontstaff.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              category:req.query.category,
  department:req.query.department,
  title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  designation:req.query.designation,
  qualification:req.query.qualification,
  doj:req.query.doj,
  prevexpinyear:req.query.prevexpinyear,
  dob:req.query.dob,
  age:req.query.age,
  sofpay:req.query.sofpay,
  pbaspay:req.query.pbaspay,
  emoluments:req.query.emoluments,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaunontstaffbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paunontstaff.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              category:req.query.category,
  department:req.query.department,
  title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  designation:req.query.designation,
  qualification:req.query.qualification,
  doj:req.query.doj,
  prevexpinyear:req.query.prevexpinyear,
  dob:req.query.dob,
  age:req.query.age,
  sofpay:req.query.sofpay,
  pbaspay:req.query.pbaspay,
  emoluments:req.query.emoluments,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaunontstaffcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paunontstaff.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaunontstaffbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paunontstaff.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauspacereqbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauspacereq
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauspacereqbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauspacereq
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauspacereqbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauspacereq
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauspacereqdocs= async (req,res) => {
    try{
        
        const lcat1233= await pauspacereq
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauspacereqlinks= async (req,res) => {
    try{
        
        const lcat1233= await pauspacereq
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauspacereqbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauspacereq.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  course:req.query.course,
  labstudio:req.query.labstudio,
  labname:req.query.labname,
  arealabreq:req.query.arealabreq,
  arealabavail:req.query.arealabavail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauspacereqbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauspacereq.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  course:req.query.course,
  labstudio:req.query.labstudio,
  labname:req.query.labname,
  arealabreq:req.query.arealabreq,
  arealabavail:req.query.arealabavail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauspacereqcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauspacereq.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauspacereqbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauspacereq.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauequipbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauequip
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauequipbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauequip
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauequipbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauequip
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauequipdocs= async (req,res) => {
    try{
        
        const lcat1233= await pauequip
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauequiplinks= async (req,res) => {
    try{
        
        const lcat1233= await pauequip
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauequipbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauequip.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  course:req.query.course,
  semester:req.query.semester,
  regulation:req.query.regulation,
  noflabsub:req.query.noflabsub,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauequipbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauequip.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  course:req.query.course,
  semester:req.query.semester,
  regulation:req.query.regulation,
  noflabsub:req.query.noflabsub,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauequipcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauequip.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauequipbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauequip.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauequiplistbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauequiplist
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauequiplistbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauequiplist
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauequiplistbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauequiplist
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauequiplistdocs= async (req,res) => {
    try{
        
        const lcat1233= await pauequiplist
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauequiplistlinks= async (req,res) => {
    try{
        
        const lcat1233= await pauequiplist
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauequiplistbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauequiplist.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              equipname:req.query.equipname,
  quant:req.query.quant,
  availquant:req.query.availquant,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauequiplistbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauequiplist.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              equipname:req.query.equipname,
  quant:req.query.quant,
  availquant:req.query.availquant,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauequiplistcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauequiplist.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauequiplistbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauequiplist.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauccomfareabyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauccomfarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauccomfareabydep= async (req,res) => {
    try{
        
        const lcat1233= await pauccomfarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauccomfareabyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauccomfarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauccomfareadocs= async (req,res) => {
    try{
        
        const lcat1233= await pauccomfarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauccomfarealinks= async (req,res) => {
    try{
        
        const lcat1233= await pauccomfarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauccomfareabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauccomfarea.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              reqarea:req.query.reqarea,
  availarea:req.query.availarea,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauccomfareabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauccomfarea.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              reqarea:req.query.reqarea,
  availarea:req.query.availarea,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauccomfareacomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauccomfarea.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauccomfareabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauccomfarea.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpautermlanwanbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pautermlanwan
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pautermlanwanbydep= async (req,res) => {
    try{
        
        const lcat1233= await pautermlanwan
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pautermlanwanbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pautermlanwan
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pautermlanwandocs= async (req,res) => {
    try{
        
        const lcat1233= await pautermlanwan
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pautermlanwanlinks= async (req,res) => {
    try{
        
        const lcat1233= await pautermlanwan
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpautermlanwanbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pautermlanwan.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              course:req.query.course,
  intake:req.query.intake,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepautermlanwanbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pautermlanwan.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              course:req.query.course,
  intake:req.query.intake,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepautermlanwancomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pautermlanwan.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepautermlanwanbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pautermlanwan.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaunooftermbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paunoofterm
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunooftermbydep= async (req,res) => {
    try{
        
        const lcat1233= await paunoofterm
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunooftermbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paunoofterm
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunooftermdocs= async (req,res) => {
    try{
        
        const lcat1233= await paunoofterm
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paunooftermlinks= async (req,res) => {
    try{
        
        const lcat1233= await paunoofterm
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaunooftermbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paunoofterm.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              req:req.query.req,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaunooftermbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paunoofterm.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              req:req.query.req,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaunooftermcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paunoofterm.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaunooftermbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paunoofterm.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaunooftermlanbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paunooftermlan
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunooftermlanbydep= async (req,res) => {
    try{
        
        const lcat1233= await paunooftermlan
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunooftermlanbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paunooftermlan
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunooftermlandocs= async (req,res) => {
    try{
        
        const lcat1233= await paunooftermlan
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paunooftermlanlinks= async (req,res) => {
    try{
        
        const lcat1233= await paunooftermlan
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaunooftermlanbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paunooftermlan.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              req:req.query.req,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaunooftermlanbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paunooftermlan.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              req:req.query.req,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaunooftermlancomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paunooftermlan.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaunooftermlanbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paunooftermlan.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaunoofprintersbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paunoofprinters
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunoofprintersbydep= async (req,res) => {
    try{
        
        const lcat1233= await paunoofprinters
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunoofprintersbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paunoofprinters
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunoofprintersdocs= async (req,res) => {
    try{
        
        const lcat1233= await paunoofprinters
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paunoofprinterslinks= async (req,res) => {
    try{
        
        const lcat1233= await paunoofprinters
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaunoofprintersbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paunoofprinters.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              req:req.query.req,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaunoofprintersbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paunoofprinters.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              req:req.query.req,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaunoofprinterscomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paunoofprinters.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaunoofprintersbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paunoofprinters.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpausoftwarebyfac= async (req,res) => {
    try{
        
        const lcat1233= await pausoftware
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pausoftwarebydep= async (req,res) => {
    try{
        
        const lcat1233= await pausoftware
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pausoftwarebyprog= async (req,res) => {
    try{
        
        const lcat1233= await pausoftware
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pausoftwaredocs= async (req,res) => {
    try{
        
        const lcat1233= await pausoftware
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pausoftwarelinks= async (req,res) => {
    try{
        
        const lcat1233= await pausoftware
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpausoftwarebyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pausoftware.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              softreq:req.query.softreq,
  availsoft:req.query.availsoft,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepausoftwarebyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pausoftware.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              softreq:req.query.softreq,
  availsoft:req.query.availsoft,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepausoftwarecomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pausoftware.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepausoftwarebyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pausoftware.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaunetworkbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paunetwork
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunetworkbydep= async (req,res) => {
    try{
        
        const lcat1233= await paunetwork
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunetworkbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paunetwork
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunetworkdocs= async (req,res) => {
    try{
        
        const lcat1233= await paunetwork
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paunetworklinks= async (req,res) => {
    try{
        
        const lcat1233= await paunetwork
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaunetworkbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paunetwork.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              intake:req.query.intake,
  reqband:req.query.reqband,
  availband:req.query.availband,
  noofnodes:req.query.noofnodes,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaunetworkbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paunetwork.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              intake:req.query.intake,
  reqband:req.query.reqband,
  availband:req.query.availband,
  noofnodes:req.query.noofnodes,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaunetworkcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paunetwork.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaunetworkbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paunetwork.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaulibareabyfac= async (req,res) => {
    try{
        
        const lcat1233= await paulibarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paulibareabydep= async (req,res) => {
    try{
        
        const lcat1233= await paulibarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paulibareabyprog= async (req,res) => {
    try{
        
        const lcat1233= await paulibarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paulibareadocs= async (req,res) => {
    try{
        
        const lcat1233= await paulibarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paulibarealinks= async (req,res) => {
    try{
        
        const lcat1233= await paulibarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaulibareabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paulibarea.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              institute:req.query.institute,
  parea:req.query.parea,
  availarea:req.query.availarea,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaulibareabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paulibarea.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              institute:req.query.institute,
  parea:req.query.parea,
  availarea:req.query.availarea,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaulibareacomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paulibarea.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaulibareabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paulibarea.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaulibbooksbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paulibbooks
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paulibbooksbydep= async (req,res) => {
    try{
        
        const lcat1233= await paulibbooks
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paulibbooksbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paulibbooks
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paulibbooksdocs= async (req,res) => {
    try{
        
        const lcat1233= await paulibbooks
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paulibbookslinks= async (req,res) => {
    try{
        
        const lcat1233= await paulibbooks
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaulibbooksbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paulibbooks.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              type:req.query.type,
  req:req.query.req,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaulibbooksbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paulibbooks.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              type:req.query.type,
  req:req.query.req,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaulibbookscomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paulibbooks.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaulibbooksbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paulibbooks.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaulibjournalbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paulibjournal
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paulibjournalbydep= async (req,res) => {
    try{
        
        const lcat1233= await paulibjournal
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paulibjournalbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paulibjournal
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paulibjournaldocs= async (req,res) => {
    try{
        
        const lcat1233= await paulibjournal
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paulibjournallinks= async (req,res) => {
    try{
        
        const lcat1233= await paulibjournal
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaulibjournalbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paulibjournal.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  course:req.query.course,
  type:req.query.type,
  req:req.query.req,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaulibjournalbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paulibjournal.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  course:req.query.course,
  type:req.query.type,
  req:req.query.req,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaulibjournalcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paulibjournal.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaulibjournalbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paulibjournal.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauavailclroombyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauavailclroom
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauavailclroombydep= async (req,res) => {
    try{
        
        const lcat1233= await pauavailclroom
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauavailclroombyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauavailclroom
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauavailclroomdocs= async (req,res) => {
    try{
        
        const lcat1233= await pauavailclroom
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauavailclroomlinks= async (req,res) => {
    try{
        
        const lcat1233= await pauavailclroom
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauavailclroombyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauavailclroom.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              name:req.query.name,
  area:req.query.area,
  noofroom:req.query.noofroom,
  latitude:req.query.latitude,
  longitude:req.query.longitude,
  type:req.query.type,
  capacity:req.query.capacity,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauavailclroombyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauavailclroom.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              name:req.query.name,
  area:req.query.area,
  noofroom:req.query.noofroom,
  latitude:req.query.latitude,
  longitude:req.query.longitude,
  type:req.query.type,
  capacity:req.query.capacity,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauavailclroomcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauavailclroom.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauavailclroombyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauavailclroom.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpausumofclroombyfac= async (req,res) => {
    try{
        
        const lcat1233= await pausumofclroom
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pausumofclroombydep= async (req,res) => {
    try{
        
        const lcat1233= await pausumofclroom
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pausumofclroombyprog= async (req,res) => {
    try{
        
        const lcat1233= await pausumofclroom
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pausumofclroomdocs= async (req,res) => {
    try{
        
        const lcat1233= await pausumofclroom
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pausumofclroomlinks= async (req,res) => {
    try{
        
        const lcat1233= await pausumofclroom
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpausumofclroombyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pausumofclroom.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              req:req.query.req,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepausumofclroombyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pausumofclroom.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              req:req.query.req,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepausumofclroomcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pausumofclroom.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepausumofclroombyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pausumofclroom.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaunoofdrawhallbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paunoofdrawhall
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunoofdrawhallbydep= async (req,res) => {
    try{
        
        const lcat1233= await paunoofdrawhall
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunoofdrawhallbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paunoofdrawhall
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paunoofdrawhalldocs= async (req,res) => {
    try{
        
        const lcat1233= await paunoofdrawhall
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paunoofdrawhalllinks= async (req,res) => {
    try{
        
        const lcat1233= await paunoofdrawhall
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaunoofdrawhallbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paunoofdrawhall.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  reqhalls:req.query.reqhalls,
  availhalls:req.query.availhalls,
  deficiency:req.query.deficiency,
  reqdrawarea:req.query.reqdrawarea,
  avladrawarea:req.query.avladrawarea,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaunoofdrawhallbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paunoofdrawhall.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              degree:req.query.degree,
  reqhalls:req.query.reqhalls,
  availhalls:req.query.availhalls,
  deficiency:req.query.deficiency,
  reqdrawarea:req.query.reqdrawarea,
  avladrawarea:req.query.avladrawarea,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaunoofdrawhallcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paunoofdrawhall.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaunoofdrawhallbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paunoofdrawhall.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauadminareabyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauadminarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauadminareabydep= async (req,res) => {
    try{
        
        const lcat1233= await pauadminarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauadminareabyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauadminarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauadminareadocs= async (req,res) => {
    try{
        
        const lcat1233= await pauadminarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauadminarealinks= async (req,res) => {
    try{
        
        const lcat1233= await pauadminarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauadminareabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauadminarea.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              buildspace:req.query.buildspace,
  carparea:req.query.carparea,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauadminareabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauadminarea.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              buildspace:req.query.buildspace,
  carparea:req.query.carparea,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauadminareacomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauadminarea.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauadminareabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauadminarea.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauamenbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauamen
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauamenbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauamen
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauamenbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauamen
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauamendocs= async (req,res) => {
    try{
        
        const lcat1233= await pauamen
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauamenlinks= async (req,res) => {
    try{
        
        const lcat1233= await pauamen
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauamenbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauamen.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              buildspace:req.query.buildspace,
  oneprog:req.query.oneprog,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauamenbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauamen.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              buildspace:req.query.buildspace,
  oneprog:req.query.oneprog,
  avail:req.query.avail,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauamencomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauamen.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauamenbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauamen.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaubhostelbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paubhostel
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paubhostelbydep= async (req,res) => {
    try{
        
        const lcat1233= await paubhostel
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paubhostelbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paubhostel
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paubhosteldocs= async (req,res) => {
    try{
        
        const lcat1233= await paubhostel
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paubhostellinks= async (req,res) => {
    try{
        
        const lcat1233= await paubhostel
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaubhostelbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paubhostel.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              bhostel:req.query.bhostel,
  hostelbuild:req.query.hostelbuild,
  lochostel:req.query.lochostel,
  distofcol:req.query.distofcol,
  totadmitstrn:req.query.totadmitstrn,
  blname:req.query.blname,
  room:req.query.room,
  carea:req.query.carea,
  noofreqroom:req.query.noofreqroom,
  availroom:req.query.availroom,
  caproom:req.query.caproom,
  availcaproom:req.query.availcaproom,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaubhostelbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paubhostel.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              bhostel:req.query.bhostel,
  hostelbuild:req.query.hostelbuild,
  lochostel:req.query.lochostel,
  distofcol:req.query.distofcol,
  totadmitstrn:req.query.totadmitstrn,
  blname:req.query.blname,
  room:req.query.room,
  carea:req.query.carea,
  noofreqroom:req.query.noofreqroom,
  availroom:req.query.availroom,
  caproom:req.query.caproom,
  availcaproom:req.query.availcaproom,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaubhostelcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paubhostel.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaubhostelbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paubhostel.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaughostelbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paughostel
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paughostelbydep= async (req,res) => {
    try{
        
        const lcat1233= await paughostel
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paughostelbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paughostel
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paughosteldocs= async (req,res) => {
    try{
        
        const lcat1233= await paughostel
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paughostellinks= async (req,res) => {
    try{
        
        const lcat1233= await paughostel
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaughostelbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paughostel.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              ghostel:req.query.ghostel,
  hostelbuild:req.query.hostelbuild,
  lochostel:req.query.lochostel,
  distofcol:req.query.distofcol,
  totadmitstrn:req.query.totadmitstrn,
  blname:req.query.blname,
  room:req.query.room,
  carea:req.query.carea,
  noofreqroom:req.query.noofreqroom,
  availroom:req.query.availroom,
  caproom:req.query.caproom,
  availcaproom:req.query.availcaproom,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaughostelbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paughostel.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              ghostel:req.query.ghostel,
  hostelbuild:req.query.hostelbuild,
  lochostel:req.query.lochostel,
  distofcol:req.query.distofcol,
  totadmitstrn:req.query.totadmitstrn,
  blname:req.query.blname,
  room:req.query.room,
  carea:req.query.carea,
  noofreqroom:req.query.noofreqroom,
  availroom:req.query.availroom,
  caproom:req.query.caproom,
  availcaproom:req.query.availcaproom,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaughostelcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paughostel.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaughostelbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paughostel.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauotherbuildareabyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauotherbuildarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauotherbuildareabydep= async (req,res) => {
    try{
        
        const lcat1233= await pauotherbuildarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauotherbuildareabyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauotherbuildarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauotherbuildareadocs= async (req,res) => {
    try{
        
        const lcat1233= await pauotherbuildarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauotherbuildarealinks= async (req,res) => {
    try{
        
        const lcat1233= await pauotherbuildarea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauotherbuildareabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauotherbuildarea.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              areadescrip:req.query.areadescrip,
  reqcarparea:req.query.reqcarparea,
  availcarparea:req.query.availcarparea,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauotherbuildareabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauotherbuildarea.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              areadescrip:req.query.areadescrip,
  reqcarparea:req.query.reqcarparea,
  availcarparea:req.query.availcarparea,
  deficiency:req.query.deficiency,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauotherbuildareacomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauotherbuildarea.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauotherbuildareabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauotherbuildarea.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauphyedubyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauphyedu
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauphyedubydep= async (req,res) => {
    try{
        
        const lcat1233= await pauphyedu
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauphyedubyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauphyedu
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauphyedudocs= async (req,res) => {
    try{
        
        const lcat1233= await pauphyedu
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauphyedulinks= async (req,res) => {
    try{
        
        const lcat1233= await pauphyedu
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauphyedubyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauphyedu.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              description:req.query.description,
  details:req.query.details,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauphyedubyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauphyedu.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              description:req.query.description,
  details:req.query.details,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauphyeducomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauphyedu.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauphyedubyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauphyedu.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpautpcbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pautpc
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pautpcbydep= async (req,res) => {
    try{
        
        const lcat1233= await pautpc
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pautpcbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pautpc
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pautpcdocs= async (req,res) => {
    try{
        
        const lcat1233= await pautpc
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pautpclinks= async (req,res) => {
    try{
        
        const lcat1233= await pautpc
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpautpcbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pautpc.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  designation:req.query.designation,
  department:req.query.department,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepautpcbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pautpc.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  designation:req.query.designation,
  department:req.query.department,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepautpccomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pautpc.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepautpcbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pautpc.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaufacilityavailbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paufacilityavail
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufacilityavailbydep= async (req,res) => {
    try{
        
        const lcat1233= await paufacilityavail
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufacilityavailbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paufacilityavail
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paufacilityavaildocs= async (req,res) => {
    try{
        
        const lcat1233= await paufacilityavail
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paufacilityavaillinks= async (req,res) => {
    try{
        
        const lcat1233= await paufacilityavail
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaufacilityavailbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paufacilityavail.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              item:req.query.item,
  avail:req.query.avail,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaufacilityavailbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paufacilityavail.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              item:req.query.item,
  avail:req.query.avail,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaufacilityavailcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paufacilityavail.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaufacilityavailbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paufacilityavail.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaualumnibyfac= async (req,res) => {
    try{
        
        const lcat1233= await paualumni
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paualumnibydep= async (req,res) => {
    try{
        
        const lcat1233= await paualumni
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paualumnibyprog= async (req,res) => {
    try{
        
        const lcat1233= await paualumni
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paualumnidocs= async (req,res) => {
    try{
        
        const lcat1233= await paualumni
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paualumnilinks= async (req,res) => {
    try{
        
        const lcat1233= await paualumni
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaualumnibyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paualumni.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              item:req.query.item,
  avail:req.query.avail,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaualumnibyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paualumni.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              item:req.query.item,
  avail:req.query.avail,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaualumnicomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paualumni.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaualumnibyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paualumni.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpautpcbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pautpc
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pautpcbydep= async (req,res) => {
    try{
        
        const lcat1233= await pautpc
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pautpcbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pautpc
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pautpcdocs= async (req,res) => {
    try{
        
        const lcat1233= await pautpc
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pautpclinks= async (req,res) => {
    try{
        
        const lcat1233= await pautpc
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpautpcbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pautpc.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              name:req.query.name,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  designation:req.query.designation,
  department:req.query.department,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepautpcbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pautpc.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              name:req.query.name,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  designation:req.query.designation,
  department:req.query.department,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepautpccomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pautpc.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepautpcbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pautpc.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauhealthbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauhealth
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauhealthbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauhealth
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauhealthbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauhealth
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauhealthdocs= async (req,res) => {
    try{
        
        const lcat1233= await pauhealth
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauhealthlinks= async (req,res) => {
    try{
        
        const lcat1233= await pauhealth
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauhealthbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauhealth.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  designation:req.query.designation,
  qualification:req.query.qualification,
  experience:req.query.experience,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauhealthbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauhealth.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              title:req.query.title,
  firstname:req.query.firstname,
  lastname:req.query.lastname,
  designation:req.query.designation,
  qualification:req.query.qualification,
  experience:req.query.experience,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauhealthcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauhealth.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauhealthbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauhealth.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauothamenbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauothamen
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauothamenbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauothamen
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauothamenbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauothamen
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauothamendocs= async (req,res) => {
    try{
        
        const lcat1233= await pauothamen
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauothamenlinks= async (req,res) => {
    try{
        
        const lcat1233= await pauothamen
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauothamenbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauothamen.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              amen:req.query.amen,
  avail:req.query.avail,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauothamenbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauothamen.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              amen:req.query.amen,
  avail:req.query.avail,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauothamencomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauothamen.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauothamenbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauothamen.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauregrecbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauregrec
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauregrecbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauregrec
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauregrecbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauregrec
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauregrecdocs= async (req,res) => {
    try{
        
        const lcat1233= await pauregrec
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauregreclinks= async (req,res) => {
    try{
        
        const lcat1233= await pauregrec
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauregrecbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauregrec.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              regname:req.query.regname,
  maintained:req.query.maintained,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauregrecbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauregrec.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              regname:req.query.regname,
  maintained:req.query.maintained,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauregreccomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauregrec.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauregrecbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauregrec.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaucertificatesbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paucertificates
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paucertificatesbydep= async (req,res) => {
    try{
        
        const lcat1233= await paucertificates
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paucertificatesbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paucertificates
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paucertificatesdocs= async (req,res) => {
    try{
        
        const lcat1233= await paucertificates
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paucertificateslinks= async (req,res) => {
    try{
        
        const lcat1233= await paucertificates
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaucertificatesbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paucertificates.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              certiname:req.query.certiname,
  avail:req.query.avail,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaucertificatesbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paucertificates.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              certiname:req.query.certiname,
  avail:req.query.avail,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaucertificatescomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paucertificates.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaucertificatesbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paucertificates.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauprocfeeabyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauprocfeea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprocfeeabydep= async (req,res) => {
    try{
        
        const lcat1233= await pauprocfeea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprocfeeabyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauprocfeea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprocfeeadocs= async (req,res) => {
    try{
        
        const lcat1233= await pauprocfeea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauprocfeealinks= async (req,res) => {
    try{
        
        const lcat1233= await pauprocfeea
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauprocfeeabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauprocfeea.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              coursename:req.query.coursename,
  noofcourse:req.query.noofcourse,
  inspecfee:req.query.inspecfee,
  totam:req.query.totam,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauprocfeeabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauprocfeea.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              coursename:req.query.coursename,
  noofcourse:req.query.noofcourse,
  inspecfee:req.query.inspecfee,
  totam:req.query.totam,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauprocfeeacomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauprocfeea.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauprocfeeabyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauprocfeea.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauprocfeebbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauprocfeeb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprocfeebbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauprocfeeb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprocfeebbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauprocfeeb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprocfeebdocs= async (req,res) => {
    try{
        
        const lcat1233= await pauprocfeeb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauprocfeeblinks= async (req,res) => {
    try{
        
        const lcat1233= await pauprocfeeb
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauprocfeebbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauprocfeeb.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              amount:req.query.amount,
  utrno:req.query.utrno,
  dof:req.query.dof,
  bankname:req.query.bankname,
  branch:req.query.branch,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauprocfeebbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauprocfeeb.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              amount:req.query.amount,
  utrno:req.query.utrno,
  dof:req.query.dof,
  bankname:req.query.bankname,
  branch:req.query.branch,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauprocfeebcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauprocfeeb.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauprocfeebbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauprocfeeb.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauprocfeecbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauprocfeec
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprocfeecbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauprocfeec
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprocfeecbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauprocfeec
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprocfeecdocs= async (req,res) => {
    try{
        
        const lcat1233= await pauprocfeec
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauprocfeeclinks= async (req,res) => {
    try{
        
        const lcat1233= await pauprocfeec
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauprocfeecbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauprocfeec.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              nofbankwithbranch:req.query.nofbankwithbranch,
  accno:req.query.accno,
  accname:req.query.accname,
  ifsccode:req.query.ifsccode,
  micrcode:req.query.micrcode,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauprocfeecbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauprocfeec.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              nofbankwithbranch:req.query.nofbankwithbranch,
  accno:req.query.accno,
  accname:req.query.accname,
  ifsccode:req.query.ifsccode,
  micrcode:req.query.micrcode,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauprocfeeccomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauprocfeec.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauprocfeecbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauprocfeec.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpauprcplendrsmntbyfac= async (req,res) => {
    try{
        
        const lcat1233= await pauprcplendrsmnt
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprcplendrsmntbydep= async (req,res) => {
    try{
        
        const lcat1233= await pauprcplendrsmnt
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprcplendrsmntbyprog= async (req,res) => {
    try{
        
        const lcat1233= await pauprcplendrsmnt
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.pauprcplendrsmntdocs= async (req,res) => {
    try{
        
        const lcat1233= await pauprcplendrsmnt
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.pauprcplendrsmntlinks= async (req,res) => {
    try{
        
        const lcat1233= await pauprcplendrsmnt
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpauprcplendrsmntbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await pauprcplendrsmnt.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              endorse:req.query.endorse,
  place:req.query.place,
  dos:req.query.dos,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepauprcplendrsmntbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await pauprcplendrsmnt.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              endorse:req.query.endorse,
  place:req.query.place,
  dos:req.query.dos,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepauprcplendrsmntcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await pauprcplendrsmnt.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepauprcplendrsmntbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await pauprcplendrsmnt.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  
  
  exports.getpaumngdeclarationbyfac= async (req,res) => {
    try{
        
        const lcat1233= await paumngdeclaration
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'user':req.query.user
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paumngdeclarationbydep= async (req,res) => {
    try{
        
        const lcat1233= await paumngdeclaration
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'department':req.query.department
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paumngdeclarationbyprog= async (req,res) => {
    try{
        
        const lcat1233= await paumngdeclaration
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'programcode':req.query.programcode
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  exports.paumngdeclarationdocs= async (req,res) => {
    try{
        
        const lcat1233= await paumngdeclaration
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid)
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  exports.paumngdeclarationlinks= async (req,res) => {
    try{
        
        const lcat1233= await paumngdeclaration
            .aggregate([
                { $addFields: { 'userId': { $toString: '$_id' }}},
                {
                    $lookup: {
                      from: 'supportingdocs', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'seminars'
                    }
                  },
                  {
                    $lookup: {
                      from: 'accrcomments', 
                      localField: 'userId', 
                      foreignField: 'field1', 
                      as: 'allcomments'
                    }
                  },
                  {
                    $match: {
                      'colid': parseInt(req.query.colid),
                      'status1' : {$ne : req.query.status1}
                    }
                  }
                  ]);
            
            //console.log(lcat1233);
            res.status(200).json({
                status:'Success',
                data: {
                    classes : lcat1233
                }   
            });            
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });
  
    }  
  };
  
  
  
  exports.createpaumngdeclarationbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const pub1= await paumngdeclaration.create({
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              declaration:req.query.declaration,
  place:req.query.place,
  dos:req.query.dos,
  status1: 'Submitted',
              comments: 'NA'
          });
  
      //res.status(200).send('Hello world for all the tours through db new router');
      res.status(200).json({
          status:'Success'
      });
    
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });
  
  }  
  };
  
  
  exports.updatepaumngdeclarationbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const lcat1= await paumngdeclaration.findByIdAndUpdate( req.query.id,{
              
              name: req.query.name,
              colid: req.query.colid,
              user: req.query.user,
              declaration:req.query.declaration,
  place:req.query.place,
  dos:req.query.dos,
  status1: 'Submitted',
              comments: 'NA'
          });
          res.status(200).json({
              status:'Success'
          });
        
     
          
                
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  
  exports.updatepaumngdeclarationcomments= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
          const lcat1= await paumngdeclaration.findByIdAndUpdate( req.query.id,{
              status1: req.query.status1,
              comments: req.query.comments
             
          });
          
          res.status(200).json({
              status:'Success'
              
          });
          
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }   
  };
  
  exports.deletepaumngdeclarationbyfac= async (req,res) => {
  
      try{
          const token=req.query.token;
          //console.log(token);
          let jwtuser='';
          let jwtcolid='';
          try {
              const verified = jwt.verify(
                  token,
                  process.env.JWT_SECRET,
                  (err123, verified) => {
                    if (err123) {
                      return res.status(401).json({
                          status: 'Unauthorized',
                          error: err123
                      });
                    }
                    jwtuser=verified.user;
                    jwtcolid=verified.colid;
                    return verified;
                  }
                );
          } catch(err1234) {
              //console.log(err1234);
          }
  
          const user1=req.query.user;
          await paumngdeclaration.findByIdAndDelete(req.query.id);
          
          res.status(200).json({
              status:'Success'
          });
                 
         
      } catch(err) {
          res.status(400).json({
              status:'Failed',
              message: err
          });
  
      }  
  };
  

  // feb 22 2023


exports.getpnirfbyfac= async (req,res) => {
  try{
      
      const lcat1233= await pnirf
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pnirfbydep= async (req,res) => {
  try{
      
      const lcat1233= await pnirf
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pnirfbyprog= async (req,res) => {
  try{
      
      const lcat1233= await pnirf
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pnirfdocs= async (req,res) => {
  try{
      
      const lcat1233= await pnirf
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.pnirflinks= async (req,res) => {
  try{
      
      const lcat1233= await pnirf
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpnirfbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await pnirf.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            nirf:req.query.nirf,
year:req.query.year,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepnirfbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await pnirf.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            nirf:req.query.nirf,
year:req.query.year,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepnirfcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await pnirf.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepnirfbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await pnirf.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpadmnewbyfac= async (req,res) => {
  try{
      
      const lcat1233= await padmnew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.padmnewbydep= async (req,res) => {
  try{
      
      const lcat1233= await padmnew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.padmnewbyprog= async (req,res) => {
  try{
      
      const lcat1233= await padmnew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.padmnewdocs= async (req,res) => {
  try{
      
      const lcat1233= await padmnew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.padmnewlinks= async (req,res) => {
  try{
      
      const lcat1233= await padmnew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpadmnewbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await padmnew.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            year:req.query.year,
sanctioned:req.query.sanctioned,
firstyear:req.query.firstyear,
secondyear:req.query.secondyear,
thirdyear:req.query.thirdyear,
fourthyear:req.query.fourthyear,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepadmnewbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await padmnew.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            year:req.query.year,
sanctioned:req.query.sanctioned,
firstyear:req.query.firstyear,
secondyear:req.query.secondyear,
thirdyear:req.query.thirdyear,
fourthyear:req.query.fourthyear,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepadmnewcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await padmnew.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepadmnewbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await padmnew.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpnbanewbyfac= async (req,res) => {
  try{
      
      const lcat1233= await pnbanew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pnbanewbydep= async (req,res) => {
  try{
      
      const lcat1233= await pnbanew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pnbanewbyprog= async (req,res) => {
  try{
      
      const lcat1233= await pnbanew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pnbanewdocs= async (req,res) => {
  try{
      
      const lcat1233= await pnbanew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.pnbanewlinks= async (req,res) => {
  try{
      
      const lcat1233= await pnbanew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpnbanewbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await pnbanew.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            year:req.query.year,
program:req.query.program,
programcode:req.query.programcode,
isnba:req.query.isnba,
anyother:req.query.anyother,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepnbanewbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await pnbanew.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            year:req.query.year,
program:req.query.program,
programcode:req.query.programcode,
isnba:req.query.isnba,
anyother:req.query.anyother,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepnbanewcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await pnbanew.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepnbanewbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await pnbanew.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunfcoeexpbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunfcoeexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfcoeexpbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunfcoeexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfcoeexpbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunfcoeexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfcoeexpdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunfcoeexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunfcoeexplinks= async (req,res) => {
  try{
      
      const lcat1233= await paunfcoeexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunfcoeexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunfcoeexp.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            aur:req.query.aur,
squadmember:req.query.squadmember,
extexaminer:req.query.extexaminer,
evalscripts:req.query.evalscripts,
reeval:req.query.reeval,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunfcoeexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunfcoeexp.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            aur:req.query.aur,
squadmember:req.query.squadmember,
extexaminer:req.query.extexaminer,
evalscripts:req.query.evalscripts,
reeval:req.query.reeval,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunfcoeexpcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunfcoeexp.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunfcoeexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunfcoeexp.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunprincipalabyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunprincipala
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunprincipalabydep= async (req,res) => {
  try{
      
      const lcat1233= await paunprincipala
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunprincipalabyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunprincipala
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunprincipaladocs= async (req,res) => {
  try{
      
      const lcat1233= await paunprincipala
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunprincipalalinks= async (req,res) => {
  try{
      
      const lcat1233= await paunprincipala
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunprincipalabyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunprincipala.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            name:req.query.name,
dob:req.query.dob,
age:req.query.age,
fathername:req.query.fathername,
degree:req.query.degree,
course:req.query.course,
classobt:req.query.classobt,
phdtitle:req.query.phdtitle,
address:req.query.address,
city:req.query.city,
district:req.query.district,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunprincipalabyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunprincipala.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            name:req.query.name,
dob:req.query.dob,
age:req.query.age,
fathername:req.query.fathername,
degree:req.query.degree,
course:req.query.course,
classobt:req.query.classobt,
phdtitle:req.query.phdtitle,
address:req.query.address,
city:req.query.city,
district:req.query.district,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunprincipalacomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunprincipala.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunprincipalabyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunprincipala.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunfeduqualifbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunfeduqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfeduqualifbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunfeduqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfeduqualifbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunfeduqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfeduqualifdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunfeduqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunfeduqualiflinks= async (req,res) => {
  try{
      
      const lcat1233= await paunfeduqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunfeduqualifbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunfeduqualif.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            category:req.query.category,
degree:req.query.degree,
spclztn:req.query.spclztn,
yop:req.query.yop,
colgname:req.query.colgname,
univname:req.query.univname,
marks:req.query.marks,
classobt:req.query.classobt,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunfeduqualifbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunfeduqualif.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            category:req.query.category,
degree:req.query.degree,
spclztn:req.query.spclztn,
yop:req.query.yop,
colgname:req.query.colgname,
univname:req.query.univname,
marks:req.query.marks,
classobt:req.query.classobt,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunfeduqualifcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunfeduqualif.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunfeduqualifbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunfeduqualif.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunhealthbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunhealth
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunhealthbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunhealth
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunhealthbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunhealth
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunhealthdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunhealth
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunhealthlinks= async (req,res) => {
  try{
      
      const lcat1233= await paunhealth
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunhealthbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunhealth.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            title:req.query.title,
firstname:req.query.firstname,
lastname:req.query.lastname,
designation:req.query.designation,
qualification:req.query.qualification,
experience:req.query.experience,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunhealthbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunhealth.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            title:req.query.title,
firstname:req.query.firstname,
lastname:req.query.lastname,
designation:req.query.designation,
qualification:req.query.qualification,
experience:req.query.experience,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunhealthcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunhealth.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunhealthbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunhealth.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunnoofdrawhallbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunnoofdrawhall
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunnoofdrawhallbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunnoofdrawhall
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunnoofdrawhallbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunnoofdrawhall
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunnoofdrawhalldocs= async (req,res) => {
  try{
      
      const lcat1233= await paunnoofdrawhall
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunnoofdrawhalllinks= async (req,res) => {
  try{
      
      const lcat1233= await paunnoofdrawhall
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunnoofdrawhallbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunnoofdrawhall.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            degree:req.query.degree,
reqhalls:req.query.reqhalls,
availhalls:req.query.availhalls,
deficiency:req.query.deficiency,
reqdrawarea:req.query.reqdrawarea,
avladrawarea:req.query.avladrawarea,
deficiencydraw:req.query.deficiencydraw,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunnoofdrawhallbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunnoofdrawhall.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            degree:req.query.degree,
reqhalls:req.query.reqhalls,
availhalls:req.query.availhalls,
deficiency:req.query.deficiency,
reqdrawarea:req.query.reqdrawarea,
avladrawarea:req.query.avladrawarea,
deficiencydraw:req.query.deficiencydraw,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunnoofdrawhallcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunnoofdrawhall.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunnoofdrawhallbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunnoofdrawhall.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunstuddetailsbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunstuddetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunstuddetailsbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunstuddetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunstuddetailsbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunstuddetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunstuddetailsdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunstuddetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunstuddetailslinks= async (req,res) => {
  try{
      
      const lcat1233= await paunstuddetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunstuddetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunstuddetails.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            degree:req.query.degree,
course:req.query.course,
sancintake:req.query.sancintake,
boys:req.query.boys,
girls:req.query.girls,
totalstud:req.query.totalstud,
religion:req.query.religion,
relgboys:req.query.relgboys,
relggirls:req.query.relggirls,
community:req.query.community,
comboys:req.query.comboys,
comgirls:req.query.comgirls,
nationality:req.query.nationality,
natboys:req.query.natboys,
natgirls:req.query.natgirls,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunstuddetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunstuddetails.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            degree:req.query.degree,
course:req.query.course,
sancintake:req.query.sancintake,
boys:req.query.boys,
girls:req.query.girls,
totalstud:req.query.totalstud,
religion:req.query.religion,
relgboys:req.query.relgboys,
relggirls:req.query.relggirls,
community:req.query.community,
comboys:req.query.comboys,
comgirls:req.query.comgirls,
nationality:req.query.nationality,
natboys:req.query.natboys,
natgirls:req.query.natgirls,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunstuddetailscomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunstuddetails.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunstuddetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunstuddetails.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};

// feb 24 2023


exports.getpaunnprincipalbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunnprincipal
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunnprincipalbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunnprincipal
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunnprincipalbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunnprincipal
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunnprincipaldocs= async (req,res) => {
  try{
      
      const lcat1233= await paunnprincipal
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunnprincipallinks= async (req,res) => {
  try{
      
      const lcat1233= await paunnprincipal
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunnprincipalbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunnprincipal.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            name:req.query.name,
dob:req.query.dob,
age:req.query.age,
fathername:req.query.fathername,
degree:req.query.degree,
course:req.query.course,
classobt:req.query.classobt,
phdtitle:req.query.phdtitle,
doj:req.query.doj,
experience:req.query.experience,
officephn:req.query.officephn,
resphn:req.query.resphn,
fax:req.query.fax,
mobprsnl:req.query.mobprsnl,
email:req.query.email,
address:req.query.address,
city:req.query.city,
district:req.query.district,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunnprincipalbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunnprincipal.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            name:req.query.name,
dob:req.query.dob,
age:req.query.age,
fathername:req.query.fathername,
degree:req.query.degree,
course:req.query.course,
classobt:req.query.classobt,
phdtitle:req.query.phdtitle,
doj:req.query.doj,
experience:req.query.experience,
officephn:req.query.officephn,
resphn:req.query.resphn,
fax:req.query.fax,
mobprsnl:req.query.mobprsnl,
email:req.query.email,
address:req.query.address,
city:req.query.city,
district:req.query.district,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunnprincipalcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunnprincipal.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunnprincipalbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunnprincipal.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaungovcouncilbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paungovcouncil
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paungovcouncilbydep= async (req,res) => {
  try{
      
      const lcat1233= await paungovcouncil
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paungovcouncilbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paungovcouncil
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paungovcouncildocs= async (req,res) => {
  try{
      
      const lcat1233= await paungovcouncil
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paungovcouncillinks= async (req,res) => {
  try{
      
      const lcat1233= await paungovcouncil
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaungovcouncilbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paungovcouncil.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            title:req.query.title,
firstname:req.query.firstname,
lastname:req.query.lastname,
position:req.query.position,
examqualf:req.query.examqualf,
course:req.query.course,
designation:req.query.designation,
email:req.query.email,
mobprsnl:req.query.mobprsnl,
officephn:req.query.officephn,
address:req.query.address,
city:req.query.city,
district:req.query.district,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaungovcouncilbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paungovcouncil.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            title:req.query.title,
firstname:req.query.firstname,
lastname:req.query.lastname,
position:req.query.position,
examqualf:req.query.examqualf,
course:req.query.course,
designation:req.query.designation,
email:req.query.email,
mobprsnl:req.query.mobprsnl,
officephn:req.query.officephn,
address:req.query.address,
city:req.query.city,
district:req.query.district,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaungovcouncilcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paungovcouncil.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaungovcouncilbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paungovcouncil.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunboardbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunboard
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunboardbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunboard
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunboardbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunboard
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunboarddocs= async (req,res) => {
  try{
      
      const lcat1233= await paunboard
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunboardlinks= async (req,res) => {
  try{
      
      const lcat1233= await paunboard
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunboardbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunboard.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            title:req.query.title,
firstname:req.query.firstname,
lastname:req.query.lastname,
position:req.query.position,
examqualf:req.query.examqualf,
course:req.query.course,
designation:req.query.designation,
email:req.query.email,
mobprsnl:req.query.mobprsnl,
officephn:req.query.officephn,
address:req.query.address,
city:req.query.city,
district:req.query.district,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunboardbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunboard.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            title:req.query.title,
firstname:req.query.firstname,
lastname:req.query.lastname,
position:req.query.position,
examqualf:req.query.examqualf,
course:req.query.course,
designation:req.query.designation,
email:req.query.email,
mobprsnl:req.query.mobprsnl,
officephn:req.query.officephn,
address:req.query.address,
city:req.query.city,
district:req.query.district,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunboardcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunboard.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunboardbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunboard.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunprocfeebyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunprocfee
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunprocfeebydep= async (req,res) => {
  try{
      
      const lcat1233= await paunprocfee
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunprocfeebyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunprocfee
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunprocfeedocs= async (req,res) => {
  try{
      
      const lcat1233= await paunprocfee
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunprocfeelinks= async (req,res) => {
  try{
      
      const lcat1233= await paunprocfee
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunprocfeebyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunprocfee.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            coursename:req.query.coursename,
noofcourse:req.query.noofcourse,
inspecfee:req.query.inspecfee,
totam:req.query.totam,
amount:req.query.amount,
utrno:req.query.utrno,
dof:req.query.dof,
bankname:req.query.bankname,
branch:req.query.branch,
nofbankwithbranch:req.query.nofbankwithbranch,
accno:req.query.accno,
accname:req.query.accname,
ifsccode:req.query.ifsccode,
micrcode:req.query.micrcode,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunprocfeebyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunprocfee.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            coursename:req.query.coursename,
noofcourse:req.query.noofcourse,
inspecfee:req.query.inspecfee,
totam:req.query.totam,
amount:req.query.amount,
utrno:req.query.utrno,
dof:req.query.dof,
bankname:req.query.bankname,
branch:req.query.branch,
nofbankwithbranch:req.query.nofbankwithbranch,
accno:req.query.accno,
accname:req.query.accname,
ifsccode:req.query.ifsccode,
micrcode:req.query.micrcode,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunprocfeecomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunprocfee.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunprocfeebyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunprocfee.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpauntermlanwanbyfac= async (req,res) => {
  try{
      
      const lcat1233= await pauntermlanwan
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauntermlanwanbydep= async (req,res) => {
  try{
      
      const lcat1233= await pauntermlanwan
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauntermlanwanbyprog= async (req,res) => {
  try{
      
      const lcat1233= await pauntermlanwan
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauntermlanwandocs= async (req,res) => {
  try{
      
      const lcat1233= await pauntermlanwan
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.pauntermlanwanlinks= async (req,res) => {
  try{
      
      const lcat1233= await pauntermlanwan
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpauntermlanwanbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await pauntermlanwan.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            course:req.query.course,
intake:req.query.intake,
reqnoofterm:req.query.reqnoofterm,
availnoofterm:req.query.availnoofterm,
defnoofterm:req.query.defnoofterm,
reqnooftermlan:req.query.reqnooftermlan,
availnooftermlan:req.query.availnooftermlan,
defnooftermlan:req.query.defnooftermlan,
reqnoofprinters:req.query.reqnoofprinters,
availnoofprinters:req.query.availnoofprinters,
defnoofprinters:req.query.defnoofprinters,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepauntermlanwanbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await pauntermlanwan.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            course:req.query.course,
intake:req.query.intake,
reqnoofterm:req.query.reqnoofterm,
availnoofterm:req.query.availnoofterm,
defnoofterm:req.query.defnoofterm,
reqnooftermlan:req.query.reqnooftermlan,
availnooftermlan:req.query.availnooftermlan,
defnooftermlan:req.query.defnooftermlan,
reqnoofprinters:req.query.reqnoofprinters,
availnoofprinters:req.query.availnoofprinters,
defnoofprinters:req.query.defnoofprinters,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepauntermlanwancomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await pauntermlanwan.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepauntermlanwanbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await pauntermlanwan.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunidetailsbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunidetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunidetailsbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunidetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunidetailsbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunidetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunidetailsdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunidetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunidetailslinks= async (req,res) => {
  try{
      
      const lcat1233= await paunidetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunidetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunidetails.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            name:req.query.name,
address:req.query.address,
pincode:req.query.pincode,
year:req.query.year,
insttype:req.query.insttype,
category:req.query.category,
clgtype:req.query.clgtype,
ifauto:req.query.ifauto,
isfunct:req.query.isfunct,
mobile:req.query.mobile,
landline:req.query.landline,
other:req.query.other,
fax:req.query.fax,
email:req.query.email,
website:req.query.website,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunidetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunidetails.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            name:req.query.name,
address:req.query.address,
pincode:req.query.pincode,
year:req.query.year,
insttype:req.query.insttype,
category:req.query.category,
clgtype:req.query.clgtype,
ifauto:req.query.ifauto,
isfunct:req.query.isfunct,
mobile:req.query.mobile,
landline:req.query.landline,
other:req.query.other,
fax:req.query.fax,
email:req.query.email,
website:req.query.website,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunidetailscomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunidetails.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunidetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunidetails.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunfacultydetailsbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunfacultydetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfacultydetailsbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunfacultydetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfacultydetailsbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunfacultydetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfacultydetailsdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunfacultydetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunfacultydetailslinks= async (req,res) => {
  try{
      
      const lcat1233= await paunfacultydetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunfacultydetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunfacultydetails.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            college:req.query.college,
department:req.query.department,
degrencrse:req.query.degrencrse,
faculty:req.query.faculty,
ifregular:req.query.ifregular,
designation:req.query.designation,
resadrs1:req.query.resadrs1,
resadrs2:req.query.resadrs2,
district:req.query.district,
phone:req.query.phone,
mobile:req.query.mobile,
email:req.query.email,
gender:req.query.gender,
community:req.query.community,
pan:req.query.pan,
passport:req.query.passport,
adhar:req.query.adhar,
fcodecoe:req.query.fcodecoe,
fcodeaicte:req.query.fcodeaicte,
dob:req.query.dob,
age:req.query.age,
payscale:req.query.payscale,
basicpay:req.query.basicpay,
emoluments:req.query.emoluments,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunfacultydetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunfacultydetails.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            college:req.query.college,
department:req.query.department,
degrencrse:req.query.degrencrse,
faculty:req.query.faculty,
ifregular:req.query.ifregular,
designation:req.query.designation,
resadrs1:req.query.resadrs1,
resadrs2:req.query.resadrs2,
district:req.query.district,
phone:req.query.phone,
mobile:req.query.mobile,
email:req.query.email,
gender:req.query.gender,
community:req.query.community,
pan:req.query.pan,
passport:req.query.passport,
adhar:req.query.adhar,
fcodecoe:req.query.fcodecoe,
fcodeaicte:req.query.fcodeaicte,
dob:req.query.dob,
age:req.query.age,
payscale:req.query.payscale,
basicpay:req.query.basicpay,
emoluments:req.query.emoluments,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunfacultydetailscomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunfacultydetails.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunfacultydetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunfacultydetails.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunfaddqualifbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunfaddqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfaddqualifbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunfaddqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfaddqualifbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunfaddqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfaddqualifdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunfaddqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunfaddqualiflinks= async (req,res) => {
  try{
      
      const lcat1233= await paunfaddqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunfaddqualifbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunfaddqualif.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
score:req.query.score,
file:req.query.file,
title:req.query.title,
fphdaward:req.query.fphdaward,
yoe:req.query.yoe,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunfaddqualifbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunfaddqualif.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
score:req.query.score,
file:req.query.file,
title:req.query.title,
fphdaward:req.query.fphdaward,
yoe:req.query.yoe,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunfaddqualifcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunfaddqualif.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunfaddqualifbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunfaddqualif.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunfacdexpbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunfacdexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfacdexpbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunfacdexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfacdexpbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunfacdexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfacdexpdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunfacdexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunfacdexplinks= async (req,res) => {
  try{
      
      const lcat1233= await paunfacdexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunfacdexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunfacdexp.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
college:req.query.college,
designation:req.query.designation,
doj:req.query.doj,
dol:req.query.dol,
expinyears:req.query.expinyears,
expinmonths:req.query.expinmonths,
expindays:req.query.expindays,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunfacdexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunfacdexp.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
college:req.query.college,
designation:req.query.designation,
doj:req.query.doj,
dol:req.query.dol,
expinyears:req.query.expinyears,
expinmonths:req.query.expinmonths,
expindays:req.query.expindays,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunfacdexpcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunfacdexp.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunfacdexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunfacdexp.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunfindexpbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunfindexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfindexpbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunfindexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfindexpbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunfindexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfindexpdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunfindexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunfindexplinks= async (req,res) => {
  try{
      
      const lcat1233= await paunfindexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunfindexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunfindexp.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
orgname:req.query.orgname,
designation:req.query.designation,
worknature:req.query.worknature,
doj:req.query.doj,
dol:req.query.dol,
expinyears:req.query.expinyears,
expinmonths:req.query.expinmonths,
expindays:req.query.expindays,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunfindexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunfindexp.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
orgname:req.query.orgname,
designation:req.query.designation,
worknature:req.query.worknature,
doj:req.query.doj,
dol:req.query.dol,
expinyears:req.query.expinyears,
expinmonths:req.query.expinmonths,
expindays:req.query.expindays,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunfindexpcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunfindexp.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunfindexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunfindexp.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunnfeduqualifbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunnfeduqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunnfeduqualifbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunnfeduqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunnfeduqualifbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunnfeduqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunnfeduqualifdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunnfeduqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunnfeduqualiflinks= async (req,res) => {
  try{
      
      const lcat1233= await paunnfeduqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunnfeduqualifbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunnfeduqualif.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
category:req.query.category,
degree:req.query.degree,
spclztn:req.query.spclztn,
yop:req.query.yop,
colgname:req.query.colgname,
univname:req.query.univname,
marks:req.query.marks,
classobt:req.query.classobt,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunnfeduqualifbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunnfeduqualif.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
category:req.query.category,
degree:req.query.degree,
spclztn:req.query.spclztn,
yop:req.query.yop,
colgname:req.query.colgname,
univname:req.query.univname,
marks:req.query.marks,
classobt:req.query.classobt,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunnfeduqualifcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunnfeduqualif.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunnfeduqualifbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunnfeduqualif.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunnfcoeexpbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunnfcoeexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunnfcoeexpbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunnfcoeexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunnfcoeexpbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunnfcoeexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunnfcoeexpdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunnfcoeexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunnfcoeexplinks= async (req,res) => {
  try{
      
      const lcat1233= await paunnfcoeexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunnfcoeexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunnfcoeexp.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
aur:req.query.aur,
squadmember:req.query.squadmember,
extexaminer:req.query.extexaminer,
evalscripts:req.query.evalscripts,
reeval:req.query.reeval,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunnfcoeexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunnfcoeexp.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
aur:req.query.aur,
squadmember:req.query.squadmember,
extexaminer:req.query.extexaminer,
evalscripts:req.query.evalscripts,
reeval:req.query.reeval,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunnfcoeexpcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunnfcoeexp.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunnfcoeexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunnfcoeexp.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunadminareabyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunadminarea
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunadminareabydep= async (req,res) => {
  try{
      
      const lcat1233= await paunadminarea
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunadminareabyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunadminarea
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunadminareadocs= async (req,res) => {
  try{
      
      const lcat1233= await paunadminarea
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunadminarealinks= async (req,res) => {
  try{
      
      const lcat1233= await paunadminarea
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunadminareabyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunadminarea.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            buildspace:req.query.buildspace,
carparea:req.query.carparea,
avail:req.query.avail,
deficiency:req.query.deficiency,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunadminareabyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunadminarea.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            buildspace:req.query.buildspace,
carparea:req.query.carparea,
avail:req.query.avail,
deficiency:req.query.deficiency,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunadminareacomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunadminarea.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunadminareabyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunadminarea.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunamenbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunamen
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunamenbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunamen
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunamenbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunamen
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunamendocs= async (req,res) => {
  try{
      
      const lcat1233= await paunamen
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunamenlinks= async (req,res) => {
  try{
      
      const lcat1233= await paunamen
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunamenbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunamen.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            buildspace:req.query.buildspace,
noofrooms:req.query.noofrooms,
spacereq:req.query.spacereq,
avail:req.query.avail,
deficiency:req.query.deficiency,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunamenbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunamen.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            buildspace:req.query.buildspace,
noofrooms:req.query.noofrooms,
spacereq:req.query.spacereq,
avail:req.query.avail,
deficiency:req.query.deficiency,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunamencomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunamen.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunamenbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunamen.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunotherbuildareabyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunotherbuildarea
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunotherbuildareabydep= async (req,res) => {
  try{
      
      const lcat1233= await paunotherbuildarea
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunotherbuildareabyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunotherbuildarea
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunotherbuildareadocs= async (req,res) => {
  try{
      
      const lcat1233= await paunotherbuildarea
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunotherbuildarealinks= async (req,res) => {
  try{
      
      const lcat1233= await paunotherbuildarea
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunotherbuildareabyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunotherbuildarea.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            areadescrip:req.query.areadescrip,
noofrooms:req.query.noofrooms,
reqcarparea:req.query.reqcarparea,
availcarparea:req.query.availcarparea,
deficiency:req.query.deficiency,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunotherbuildareabyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunotherbuildarea.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            areadescrip:req.query.areadescrip,
noofrooms:req.query.noofrooms,
reqcarparea:req.query.reqcarparea,
availcarparea:req.query.availcarparea,
deficiency:req.query.deficiency,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunotherbuildareacomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunotherbuildarea.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunotherbuildareabyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunotherbuildarea.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


  // feb 25 2023


exports.getpaunlibbooksbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunlibbooks
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunlibbooksbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunlibbooks
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunlibbooksbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunlibbooks
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunlibbooksdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunlibbooks
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunlibbookslinks= async (req,res) => {
  try{
      
      const lcat1233= await paunlibbooks
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunlibbooksbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunlibbooks.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            volreq:req.query.volreq,
volavail:req.query.volavail,
voldef:req.query.voldef,
titlereq:req.query.titlereq,
titleavail:req.query.titleavail,
titledef:req.query.titledef,
voladdreq:req.query.voladdreq,
voladdavail:req.query.voladdavail,
voladddef:req.query.voladddef,
totalreq:req.query.totalreq,
totalavail:req.query.totalavail,
totaldef:req.query.totaldef,
alldef:req.query.alldef,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunlibbooksbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunlibbooks.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            volreq:req.query.volreq,
volavail:req.query.volavail,
voldef:req.query.voldef,
titlereq:req.query.titlereq,
titleavail:req.query.titleavail,
titledef:req.query.titledef,
voladdreq:req.query.voladdreq,
voladdavail:req.query.voladdavail,
voladddef:req.query.voladddef,
totalreq:req.query.totalreq,
totalavail:req.query.totalavail,
totaldef:req.query.totaldef,
alldef:req.query.alldef,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunlibbookscomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunlibbooks.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunlibbooksbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunlibbooks.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunewidetailsbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunewidetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewidetailsbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunewidetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewidetailsbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunewidetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewidetailsdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunewidetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunewidetailslinks= async (req,res) => {
  try{
      
      const lcat1233= await paunewidetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunewidetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunewidetails.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            college:req.query.college,
address:req.query.address,
pincode:req.query.pincode,
year:req.query.year,
insttype:req.query.insttype,
category:req.query.category,
clgtype:req.query.clgtype,
ifauto:req.query.ifauto,
isfunct:req.query.isfunct,
mobile:req.query.mobile,
landline:req.query.landline,
other:req.query.other,
fax:req.query.fax,
email:req.query.email,
website:req.query.website,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunewidetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunewidetails.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            college:req.query.college,
address:req.query.address,
pincode:req.query.pincode,
year:req.query.year,
insttype:req.query.insttype,
category:req.query.category,
clgtype:req.query.clgtype,
ifauto:req.query.ifauto,
isfunct:req.query.isfunct,
mobile:req.query.mobile,
landline:req.query.landline,
other:req.query.other,
fax:req.query.fax,
email:req.query.email,
website:req.query.website,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunewidetailscomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunewidetails.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunewidetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunewidetails.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunewprincipalbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunewprincipal
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewprincipalbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunewprincipal
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewprincipalbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunewprincipal
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewprincipaldocs= async (req,res) => {
  try{
      
      const lcat1233= await paunewprincipal
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunewprincipallinks= async (req,res) => {
  try{
      
      const lcat1233= await paunewprincipal
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunewprincipalbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunewprincipal.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            principal:req.query.principal,
dob:req.query.dob,
age:req.query.age,
fathername:req.query.fathername,
degree:req.query.degree,
course:req.query.course,
classobt:req.query.classobt,
phdtitle:req.query.phdtitle,
doj:req.query.doj,
experience:req.query.experience,
officephn:req.query.officephn,
resphn:req.query.resphn,
fax:req.query.fax,
mobprsnl:req.query.mobprsnl,
email:req.query.email,
address:req.query.address,
city:req.query.city,
district:req.query.district,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunewprincipalbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunewprincipal.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            principal:req.query.principal,
dob:req.query.dob,
age:req.query.age,
fathername:req.query.fathername,
degree:req.query.degree,
course:req.query.course,
classobt:req.query.classobt,
phdtitle:req.query.phdtitle,
doj:req.query.doj,
experience:req.query.experience,
officephn:req.query.officephn,
resphn:req.query.resphn,
fax:req.query.fax,
mobprsnl:req.query.mobprsnl,
email:req.query.email,
address:req.query.address,
city:req.query.city,
district:req.query.district,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunewprincipalcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunewprincipal.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunewprincipalbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunewprincipal.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpauclassblockbyfac= async (req,res) => {
  try{
      
      const lcat1233= await pauclassblock
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauclassblockbydep= async (req,res) => {
  try{
      
      const lcat1233= await pauclassblock
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauclassblockbyprog= async (req,res) => {
  try{
      
      const lcat1233= await pauclassblock
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauclassblockdocs= async (req,res) => {
  try{
      
      const lcat1233= await pauclassblock
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.pauclassblocklinks= async (req,res) => {
  try{
      
      const lcat1233= await pauclassblock
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpauclassblockbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await pauclassblock.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            blockname:req.query.blockname,
blockarea:req.query.blockarea,
noofroom:req.query.noofroom,
rooftype:req.query.rooftype,
capacity:req.query.capacity,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepauclassblockbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await pauclassblock.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            blockname:req.query.blockname,
blockarea:req.query.blockarea,
noofroom:req.query.noofroom,
rooftype:req.query.rooftype,
capacity:req.query.capacity,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepauclassblockcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await pauclassblock.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepauclassblockbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await pauclassblock.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpauclassnewbyfac= async (req,res) => {
  try{
      
      const lcat1233= await pauclassnew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauclassnewbydep= async (req,res) => {
  try{
      
      const lcat1233= await pauclassnew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauclassnewbyprog= async (req,res) => {
  try{
      
      const lcat1233= await pauclassnew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauclassnewdocs= async (req,res) => {
  try{
      
      const lcat1233= await pauclassnew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.pauclassnewlinks= async (req,res) => {
  try{
      
      const lcat1233= await pauclassnew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpauclassnewbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await pauclassnew.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            classroom:req.query.classroom,
area:req.query.area,
latitude:req.query.latitude,
longitude:req.query.longitude,
capacity:req.query.capacity,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepauclassnewbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await pauclassnew.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            classroom:req.query.classroom,
area:req.query.area,
latitude:req.query.latitude,
longitude:req.query.longitude,
capacity:req.query.capacity,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepauclassnewcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await pauclassnew.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepauclassnewbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await pauclassnew.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunlibjournalbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunlibjournal
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunlibjournalbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunlibjournal
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunlibjournalbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunlibjournal
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunlibjournaldocs= async (req,res) => {
  try{
      
      const lcat1233= await paunlibjournal
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunlibjournallinks= async (req,res) => {
  try{
      
      const lcat1233= await paunlibjournal
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunlibjournalbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunlibjournal.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            degree:req.query.degree,
course:req.query.course,
natreq:req.query.natreq,
natavail:req.query.natavail,
natdef:req.query.natdef,
intnreq:req.query.intnreq,
intnavail:req.query.intnavail,
intndef:req.query.intndef,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunlibjournalbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunlibjournal.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            degree:req.query.degree,
course:req.query.course,
natreq:req.query.natreq,
natavail:req.query.natavail,
natdef:req.query.natdef,
intnreq:req.query.intnreq,
intnavail:req.query.intnavail,
intndef:req.query.intndef,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunlibjournalcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunlibjournal.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunlibjournalbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunlibjournal.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};

// feb 27 2023 1


exports.getpaunewfacultydetailsbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunewfacultydetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfacultydetailsbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunewfacultydetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfacultydetailsbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunewfacultydetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfacultydetailsdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunewfacultydetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunewfacultydetailslinks= async (req,res) => {
  try{
      
      const lcat1233= await paunewfacultydetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunewfacultydetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunewfacultydetails.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            college:req.query.college,
department:req.query.department,
degrencrse:req.query.degrencrse,
faculty:req.query.faculty,
ifregular:req.query.ifregular,
designation:req.query.designation,
resadrs1:req.query.resadrs1,
resadrs2:req.query.resadrs2,
district:req.query.district,
phone:req.query.phone,
mobile:req.query.mobile,
email:req.query.email,
gender:req.query.gender,
community:req.query.community,
pan:req.query.pan,
passport:req.query.passport,
adhar:req.query.adhar,
fcodecoe:req.query.fcodecoe,
fcodeaicte:req.query.fcodeaicte,
dob:req.query.dob,
age:req.query.age,
payscale:req.query.payscale,
basicpay:req.query.basicpay,
emoluments:req.query.emoluments,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunewfacultydetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunewfacultydetails.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            college:req.query.college,
department:req.query.department,
degrencrse:req.query.degrencrse,
faculty:req.query.faculty,
ifregular:req.query.ifregular,
designation:req.query.designation,
resadrs1:req.query.resadrs1,
resadrs2:req.query.resadrs2,
district:req.query.district,
phone:req.query.phone,
mobile:req.query.mobile,
email:req.query.email,
gender:req.query.gender,
community:req.query.community,
pan:req.query.pan,
passport:req.query.passport,
adhar:req.query.adhar,
fcodecoe:req.query.fcodecoe,
fcodeaicte:req.query.fcodeaicte,
dob:req.query.dob,
age:req.query.age,
payscale:req.query.payscale,
basicpay:req.query.basicpay,
emoluments:req.query.emoluments,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunewfacultydetailscomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunewfacultydetails.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunewfacultydetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunewfacultydetails.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunewfaddqualifbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunewfaddqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfaddqualifbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunewfaddqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfaddqualifbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunewfaddqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfaddqualifdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunewfaddqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunewfaddqualiflinks= async (req,res) => {
  try{
      
      const lcat1233= await paunewfaddqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunewfaddqualifbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunewfaddqualif.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
mobile:req.query.mobile,
score:req.query.score,
file:req.query.file,
title:req.query.title,
fphdaward:req.query.fphdaward,
yoe:req.query.yoe,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunewfaddqualifbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunewfaddqualif.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
mobile:req.query.mobile,
score:req.query.score,
file:req.query.file,
title:req.query.title,
fphdaward:req.query.fphdaward,
yoe:req.query.yoe,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunewfaddqualifcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunewfaddqualif.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunewfaddqualifbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunewfaddqualif.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunewfacdexpbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunewfacdexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfacdexpbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunewfacdexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfacdexpbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunewfacdexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfacdexpdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunewfacdexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunewfacdexplinks= async (req,res) => {
  try{
      
      const lcat1233= await paunewfacdexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunewfacdexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunewfacdexp.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
mobile:req.query.mobile,
college:req.query.college,
designation:req.query.designation,
doj:req.query.doj,
dol:req.query.dol,
expinyears:req.query.expinyears,
expinmonths:req.query.expinmonths,
expindays:req.query.expindays,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunewfacdexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunewfacdexp.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
mobile:req.query.mobile,
college:req.query.college,
designation:req.query.designation,
doj:req.query.doj,
dol:req.query.dol,
expinyears:req.query.expinyears,
expinmonths:req.query.expinmonths,
expindays:req.query.expindays,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunewfacdexpcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunewfacdexp.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunewfacdexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunewfacdexp.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunewfindexpbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunewfindexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfindexpbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunewfindexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfindexpbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunewfindexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfindexpdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunewfindexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunewfindexplinks= async (req,res) => {
  try{
      
      const lcat1233= await paunewfindexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunewfindexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunewfindexp.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
mobile:req.query.mobile,
orgname:req.query.orgname,
designation:req.query.designation,
worknature:req.query.worknature,
doj:req.query.doj,
dol:req.query.dol,
expinyears:req.query.expinyears,
expinmonths:req.query.expinmonths,
expindays:req.query.expindays,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunewfindexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunewfindexp.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
mobile:req.query.mobile,
orgname:req.query.orgname,
designation:req.query.designation,
worknature:req.query.worknature,
doj:req.query.doj,
dol:req.query.dol,
expinyears:req.query.expinyears,
expinmonths:req.query.expinmonths,
expindays:req.query.expindays,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunewfindexpcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunewfindexp.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunewfindexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunewfindexp.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunewfeduqualifbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunewfeduqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfeduqualifbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunewfeduqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfeduqualifbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunewfeduqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfeduqualifdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunewfeduqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunewfeduqualiflinks= async (req,res) => {
  try{
      
      const lcat1233= await paunewfeduqualif
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunewfeduqualifbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunewfeduqualif.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
mobile:req.query.mobile,
category:req.query.category,
degree:req.query.degree,
spclztn:req.query.spclztn,
yop:req.query.yop,
colgname:req.query.colgname,
univname:req.query.univname,
marks:req.query.marks,
classobt:req.query.classobt,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunewfeduqualifbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunewfeduqualif.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
mobile:req.query.mobile,
category:req.query.category,
degree:req.query.degree,
spclztn:req.query.spclztn,
yop:req.query.yop,
colgname:req.query.colgname,
univname:req.query.univname,
marks:req.query.marks,
classobt:req.query.classobt,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunewfeduqualifcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunewfeduqualif.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunewfeduqualifbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunewfeduqualif.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunewlanddetailsbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunewlanddetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewlanddetailsbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunewlanddetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewlanddetailsbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunewlanddetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewlanddetailsdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunewlanddetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunewlanddetailslinks= async (req,res) => {
  try{
      
      const lcat1233= await paunewlanddetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunewlanddetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunewlanddetails.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            type:req.query.type,
location:req.query.location,
district:req.query.district,
taluk:req.query.taluk,
village:req.query.village,
place:req.query.place,
pincode:req.query.pincode,
landext:req.query.landext,
docno:req.query.docno,
dol:req.query.dol,
surveyno:req.query.surveyno,
extent:req.query.extent,
totalextland:req.query.totalextland,
totalextbuilt:req.query.totalextbuilt,
deficiency:req.query.deficiency,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunewlanddetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunewlanddetails.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            type:req.query.type,
location:req.query.location,
district:req.query.district,
taluk:req.query.taluk,
village:req.query.village,
place:req.query.place,
pincode:req.query.pincode,
landext:req.query.landext,
docno:req.query.docno,
dol:req.query.dol,
surveyno:req.query.surveyno,
extent:req.query.extent,
totalextland:req.query.totalextland,
totalextbuilt:req.query.totalextbuilt,
deficiency:req.query.deficiency,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunewlanddetailscomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunewlanddetails.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunewlanddetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunewlanddetails.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};

// feb 28 2023 1


exports.getpauinstdetailsbyfac= async (req,res) => {
  try{
      
      const lcat1233= await pauinstdetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauinstdetailsbydep= async (req,res) => {
  try{
      
      const lcat1233= await pauinstdetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauinstdetailsbyprog= async (req,res) => {
  try{
      
      const lcat1233= await pauinstdetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauinstdetailsdocs= async (req,res) => {
  try{
      
      const lcat1233= await pauinstdetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.pauinstdetailslinks= async (req,res) => {
  try{
      
      const lcat1233= await pauinstdetails
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpauinstdetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await pauinstdetails.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            instcode:req.query.instcode,
instname:req.query.instname,
courseid:req.query.courseid,
coursetype:req.query.coursetype,
crsename:req.query.crsename,
degree:req.query.degree,
yos:req.query.yos,
firstyi:req.query.firstyi,
secondyi:req.query.secondyi,
thirdyi:req.query.thirdyi,
fourthyi:req.query.fourthyi,
fifthyi:req.query.fifthyi,
totalintk:req.query.totalintk,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepauinstdetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await pauinstdetails.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            instcode:req.query.instcode,
instname:req.query.instname,
courseid:req.query.courseid,
coursetype:req.query.coursetype,
crsename:req.query.crsename,
degree:req.query.degree,
yos:req.query.yos,
firstyi:req.query.firstyi,
secondyi:req.query.secondyi,
thirdyi:req.query.thirdyi,
fourthyi:req.query.fourthyi,
fifthyi:req.query.fifthyi,
totalintk:req.query.totalintk,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepauinstdetailscomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await pauinstdetails.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepauinstdetailsbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await pauinstdetails.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpauinstcoursebyfac= async (req,res) => {
  try{
      
      const lcat1233= await pauinstcourse
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauinstcoursebydep= async (req,res) => {
  try{
      
      const lcat1233= await pauinstcourse
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauinstcoursebyprog= async (req,res) => {
  try{
      
      const lcat1233= await pauinstcourse
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauinstcoursedocs= async (req,res) => {
  try{
      
      const lcat1233= await pauinstcourse
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.pauinstcourselinks= async (req,res) => {
  try{
      
      const lcat1233= await pauinstcourse
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpauinstcoursebyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await pauinstcourse.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            instname:req.query.instname,
ug:req.query.ug,
pg:req.query.pg,
total:req.query.total,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepauinstcoursebyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await pauinstcourse.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            instname:req.query.instname,
ug:req.query.ug,
pg:req.query.pg,
total:req.query.total,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepauinstcoursecomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await pauinstcourse.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepauinstcoursebyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await pauinstcourse.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunequipbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunequip
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunequipbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunequip
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunequipbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunequip
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunequipdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunequip
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunequiplinks= async (req,res) => {
  try{
      
      const lcat1233= await paunequip
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunequipbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunequip.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            degree:req.query.degree,
course:req.query.course,
semester:req.query.semester,
regulation:req.query.regulation,
noflabsub:req.query.noflabsub,
equipname:req.query.equipname,
quant:req.query.quant,
availquant:req.query.availquant,
deficiency:req.query.deficiency,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunequipbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunequip.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            degree:req.query.degree,
course:req.query.course,
semester:req.query.semester,
regulation:req.query.regulation,
noflabsub:req.query.noflabsub,
equipname:req.query.equipname,
quant:req.query.quant,
availquant:req.query.availquant,
deficiency:req.query.deficiency,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunequipcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunequip.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunequipbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunequip.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpaunewfcoeexpbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunewfcoeexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfcoeexpbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunewfcoeexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfcoeexpbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunewfcoeexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunewfcoeexpdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunewfcoeexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunewfcoeexplinks= async (req,res) => {
  try{
      
      const lcat1233= await paunewfcoeexp
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunewfcoeexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunewfcoeexp.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
mobile:req.query.mobile,
aur:req.query.aur,
squadmember:req.query.squadmember,
extexaminer:req.query.extexaminer,
evalscripts:req.query.evalscripts,
reeval:req.query.reeval,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunewfcoeexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunewfcoeexp.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            faculty:req.query.faculty,
email:req.query.email,
mobile:req.query.mobile,
aur:req.query.aur,
squadmember:req.query.squadmember,
extexaminer:req.query.extexaminer,
evalscripts:req.query.evalscripts,
reeval:req.query.reeval,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunewfcoeexpcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunewfcoeexp.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunewfcoeexpbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunewfcoeexp.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};

// mar 2 2023


exports.getainsmasterbyfac= async (req,res) => {
  try{
      
      const lcat1233= await ainsmaster
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.ainsmasterbydep= async (req,res) => {
  try{
      
      const lcat1233= await ainsmaster
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.ainsmasterbyprog= async (req,res) => {
  try{
      
      const lcat1233= await ainsmaster
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.ainsmasterdocs= async (req,res) => {
  try{
      
      const lcat1233= await ainsmaster
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.ainsmasterlinks= async (req,res) => {
  try{
      
      const lcat1233= await ainsmaster
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createainsmasterbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await ainsmaster.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            instcode:req.query.instcode,
insname:req.query.insname,
firstyear:req.query.firstyear,
secondyear:req.query.secondyear,
thirdyear:req.query.thirdyear,
fourthyear:req.query.fourthyear,
fifthyear:req.query.fifthyear,
total:req.query.total,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updateainsmasterbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await ainsmaster.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            instcode:req.query.instcode,
insname:req.query.insname,
firstyear:req.query.firstyear,
secondyear:req.query.secondyear,
thirdyear:req.query.thirdyear,
fourthyear:req.query.fourthyear,
fifthyear:req.query.fifthyear,
total:req.query.total,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updateainsmastercomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await ainsmaster.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deleteainsmasterbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await ainsmaster.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};

// mar 15 2023


exports.getpaunfacnewbyfac= async (req,res) => {
  try{
      
      const lcat1233= await paunfacnew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfacnewbydep= async (req,res) => {
  try{
      
      const lcat1233= await paunfacnew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfacnewbyprog= async (req,res) => {
  try{
      
      const lcat1233= await paunfacnew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.paunfacnewdocs= async (req,res) => {
  try{
      
      const lcat1233= await paunfacnew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.paunfacnewlinks= async (req,res) => {
  try{
      
      const lcat1233= await paunfacnew
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpaunfacnewbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await paunfacnew.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            college:req.query.college,
department:req.query.department,
degrencrse:req.query.degrencrse,
faculty:req.query.faculty,
ifregular:req.query.ifregular,
designation:req.query.designation,
resadrs1:req.query.resadrs1,
resadrs2:req.query.resadrs2,
district:req.query.district,
phone:req.query.phone,
mobile:req.query.mobile,
email:req.query.email,
gender:req.query.gender,
community:req.query.community,
pan:req.query.pan,
passport:req.query.passport,
adhar:req.query.adhar,
fcodecoe:req.query.fcodecoe,
fcodeaicte:req.query.fcodeaicte,
dob:req.query.dob,
age:req.query.age,
payscale:req.query.payscale,
basicpay:req.query.basicpay,
emoluments:req.query.emoluments,
level:req.query.level,
group:req.query.group,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepaunfacnewbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await paunfacnew.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            college:req.query.college,
department:req.query.department,
degrencrse:req.query.degrencrse,
faculty:req.query.faculty,
ifregular:req.query.ifregular,
designation:req.query.designation,
resadrs1:req.query.resadrs1,
resadrs2:req.query.resadrs2,
district:req.query.district,
phone:req.query.phone,
mobile:req.query.mobile,
email:req.query.email,
gender:req.query.gender,
community:req.query.community,
pan:req.query.pan,
passport:req.query.passport,
adhar:req.query.adhar,
fcodecoe:req.query.fcodecoe,
fcodeaicte:req.query.fcodeaicte,
dob:req.query.dob,
age:req.query.age,
payscale:req.query.payscale,
basicpay:req.query.basicpay,
emoluments:req.query.emoluments,
level:req.query.level,
group:req.query.group,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepaunfacnewcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await paunfacnew.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepaunfacnewbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await paunfacnew.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpauprncplphdbyfac= async (req,res) => {
  try{
      
      const lcat1233= await pauprncplphd
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauprncplphdbydep= async (req,res) => {
  try{
      
      const lcat1233= await pauprncplphd
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauprncplphdbyprog= async (req,res) => {
  try{
      
      const lcat1233= await pauprncplphd
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauprncplphddocs= async (req,res) => {
  try{
      
      const lcat1233= await pauprncplphd
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.pauprncplphdlinks= async (req,res) => {
  try{
      
      const lcat1233= await pauprncplphd
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpauprncplphdbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await pauprncplphd.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            principal:req.query.principal,
mobprsnl:req.query.mobprsnl,
email:req.query.email,
sname:req.query.sname,
sregno:req.query.sregno,
university:req.query.university,
yor:req.query.yor,
yod:req.query.yod,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepauprncplphdbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await pauprncplphd.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            principal:req.query.principal,
mobprsnl:req.query.mobprsnl,
email:req.query.email,
sname:req.query.sname,
sregno:req.query.sregno,
university:req.query.university,
yor:req.query.yor,
yod:req.query.yod,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepauprncplphdcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await pauprncplphd.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepauprncplphdbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await pauprncplphd.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};


exports.getpauprncplpubbyfac= async (req,res) => {
  try{
      
      const lcat1233= await pauprncplpub
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'user':req.query.user
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauprncplpubbydep= async (req,res) => {
  try{
      
      const lcat1233= await pauprncplpub
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'department':req.query.department
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauprncplpubbyprog= async (req,res) => {
  try{
      
      const lcat1233= await pauprncplpub
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'programcode':req.query.programcode
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};


exports.pauprncplpubdocs= async (req,res) => {
  try{
      
      const lcat1233= await pauprncplpub
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid)
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};

exports.pauprncplpublinks= async (req,res) => {
  try{
      
      const lcat1233= await pauprncplpub
          .aggregate([
              { $addFields: { 'userId': { $toString: '$_id' }}},
              {
                  $lookup: {
                    from: 'supportingdocs', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'seminars'
                  }
                },
                {
                  $lookup: {
                    from: 'accrcomments', 
                    localField: 'userId', 
                    foreignField: 'field1', 
                    as: 'allcomments'
                  }
                },
                {
                  $match: {
                    'colid': parseInt(req.query.colid),
                    'status1' : {$ne : req.query.status1}
                  }
                }
                ]);
          
          //console.log(lcat1233);
          res.status(200).json({
              status:'Success',
              data: {
                  classes : lcat1233
              }   
          });            
  } catch(err) {
      res.status(400).json({
          status:'Failed',
          message: err
      });

  }  
};



exports.createpauprncplpubbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const pub1= await pauprncplpub.create({
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            principal:req.query.principal,
mobprsnl:req.query.mobprsnl,
email:req.query.email,
title:req.query.title,
journal:req.query.journal,
yop:req.query.yop,
issn:req.query.issn,
articlelink:req.query.articlelink,
journallink:req.query.journallink,
ugclisted:req.query.ugclisted,
hindex:req.query.hindex,
citation:req.query.citation,
citationindex:req.query.citationindex,
level:req.query.level,
status1: 'Submitted',
            comments: 'NA'
        });

    //res.status(200).send('Hello world for all the tours through db new router');
    res.status(200).json({
        status:'Success'
    });
  
} catch(err) {
    res.status(400).json({
        status:'Failed',
        message: err
    });

}  
};


exports.updatepauprncplpubbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const lcat1= await pauprncplpub.findByIdAndUpdate( req.query.id,{
            
            name: req.query.name,
            colid: req.query.colid,
            user: req.query.user,
            principal:req.query.principal,
mobprsnl:req.query.mobprsnl,
email:req.query.email,
title:req.query.title,
journal:req.query.journal,
yop:req.query.yop,
issn:req.query.issn,
articlelink:req.query.articlelink,
journallink:req.query.journallink,
ugclisted:req.query.ugclisted,
hindex:req.query.hindex,
citation:req.query.citation,
citationindex:req.query.citationindex,
level:req.query.level,
status1: 'Submitted',
            comments: 'NA'
        });
        res.status(200).json({
            status:'Success'
        });
      
   
        
              
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};


exports.updatepauprncplpubcomments= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }
        const lcat1= await pauprncplpub.findByIdAndUpdate( req.query.id,{
            status1: req.query.status1,
            comments: req.query.comments
           
        });
        
        res.status(200).json({
            status:'Success'
            
        });
        
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }   
};

exports.deletepauprncplpubbyfac= async (req,res) => {

    try{
        const token=req.query.token;
        //console.log(token);
        let jwtuser='';
        let jwtcolid='';
        try {
            const verified = jwt.verify(
                token,
                process.env.JWT_SECRET,
                (err123, verified) => {
                  if (err123) {
                    return res.status(401).json({
                        status: 'Unauthorized',
                        error: err123
                    });
                  }
                  jwtuser=verified.user;
                  jwtcolid=verified.colid;
                  return verified;
                }
              );
        } catch(err1234) {
            //console.log(err1234);
        }

        const user1=req.query.user;
        await pauprncplpub.findByIdAndDelete(req.query.id);
        
        res.status(200).json({
            status:'Success'
        });
               
       
    } catch(err) {
        res.status(400).json({
            status:'Failed',
            message: err
        });

    }  
};

